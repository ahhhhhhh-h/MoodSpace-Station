{"ast":null,"code":"/*\n * Copyright 2014 Takuya Asano\n * Copyright 2010-2014 Atilika Inc. and contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\"use strict\";\n\nvar CharacterDefinition = require(\"../CharacterDefinition\");\nvar InvokeDefinitionMap = require(\"../InvokeDefinitionMap\");\nvar CATEGORY_DEF_PATTERN = /^(\\w+)\\s+(\\d)\\s+(\\d)\\s+(\\d)/;\nvar CATEGORY_MAPPING_PATTERN = /^(0x[0-9A-F]{4})(?:\\s+([^#\\s]+))(?:\\s+([^#\\s]+))*/;\nvar RANGE_CATEGORY_MAPPING_PATTERN = /^(0x[0-9A-F]{4})\\.\\.(0x[0-9A-F]{4})(?:\\s+([^#\\s]+))(?:\\s+([^#\\s]+))*/;\n\n/**\n * CharacterDefinitionBuilder\n * @constructor\n */\nfunction CharacterDefinitionBuilder() {\n  this.char_def = new CharacterDefinition();\n  this.char_def.invoke_definition_map = new InvokeDefinitionMap();\n  this.character_category_definition = [];\n  this.category_mapping = [];\n}\nCharacterDefinitionBuilder.prototype.putLine = function (line) {\n  var parsed_category_def = CATEGORY_DEF_PATTERN.exec(line);\n  if (parsed_category_def != null) {\n    var class_id = this.character_category_definition.length;\n    var char_class = CharacterDefinition.parseCharCategory(class_id, parsed_category_def);\n    if (char_class == null) {\n      return;\n    }\n    this.character_category_definition.push(char_class);\n    return;\n  }\n  var parsed_category_mapping = CATEGORY_MAPPING_PATTERN.exec(line);\n  if (parsed_category_mapping != null) {\n    var mapping = CharacterDefinition.parseCategoryMapping(parsed_category_mapping);\n    this.category_mapping.push(mapping);\n  }\n  var parsed_range_category_mapping = RANGE_CATEGORY_MAPPING_PATTERN.exec(line);\n  if (parsed_range_category_mapping != null) {\n    var range_mapping = CharacterDefinition.parseRangeCategoryMapping(parsed_range_category_mapping);\n    this.category_mapping.push(range_mapping);\n  }\n};\nCharacterDefinitionBuilder.prototype.build = function () {\n  // TODO If DEFAULT category does not exist, throw error\n  this.char_def.invoke_definition_map.init(this.character_category_definition);\n  this.char_def.initCategoryMappings(this.category_mapping);\n  return this.char_def;\n};\nmodule.exports = CharacterDefinitionBuilder;","map":{"version":3,"names":["CharacterDefinition","require","InvokeDefinitionMap","CATEGORY_DEF_PATTERN","CATEGORY_MAPPING_PATTERN","RANGE_CATEGORY_MAPPING_PATTERN","CharacterDefinitionBuilder","char_def","invoke_definition_map","character_category_definition","category_mapping","prototype","putLine","line","parsed_category_def","exec","class_id","length","char_class","parseCharCategory","push","parsed_category_mapping","mapping","parseCategoryMapping","parsed_range_category_mapping","range_mapping","parseRangeCategoryMapping","build","init","initCategoryMappings","module","exports"],"sources":["/Users/zyq/Desktop/大二下/暑期实习/moonshot project/node_modules/kuromoji/src/dict/builder/CharacterDefinitionBuilder.js"],"sourcesContent":["/*\n * Copyright 2014 Takuya Asano\n * Copyright 2010-2014 Atilika Inc. and contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\"use strict\";\n\nvar CharacterDefinition = require(\"../CharacterDefinition\");\nvar InvokeDefinitionMap = require(\"../InvokeDefinitionMap\");\n\nvar CATEGORY_DEF_PATTERN = /^(\\w+)\\s+(\\d)\\s+(\\d)\\s+(\\d)/;\nvar CATEGORY_MAPPING_PATTERN = /^(0x[0-9A-F]{4})(?:\\s+([^#\\s]+))(?:\\s+([^#\\s]+))*/;\nvar RANGE_CATEGORY_MAPPING_PATTERN = /^(0x[0-9A-F]{4})\\.\\.(0x[0-9A-F]{4})(?:\\s+([^#\\s]+))(?:\\s+([^#\\s]+))*/;\n\n/**\n * CharacterDefinitionBuilder\n * @constructor\n */\nfunction CharacterDefinitionBuilder() {\n    this.char_def = new CharacterDefinition();\n    this.char_def.invoke_definition_map = new InvokeDefinitionMap();\n    this.character_category_definition = [];\n    this.category_mapping = [];\n}\n\nCharacterDefinitionBuilder.prototype.putLine = function (line) {\n    var parsed_category_def = CATEGORY_DEF_PATTERN.exec(line);\n    if (parsed_category_def != null) {\n        var class_id = this.character_category_definition.length;\n        var char_class = CharacterDefinition.parseCharCategory(class_id, parsed_category_def);\n        if (char_class == null) {\n            return;\n        }\n        this.character_category_definition.push(char_class);\n        return;\n    }\n    var parsed_category_mapping = CATEGORY_MAPPING_PATTERN.exec(line);\n    if (parsed_category_mapping != null) {\n        var mapping = CharacterDefinition.parseCategoryMapping(parsed_category_mapping);\n        this.category_mapping.push(mapping);\n    }\n    var parsed_range_category_mapping = RANGE_CATEGORY_MAPPING_PATTERN.exec(line);\n    if (parsed_range_category_mapping != null) {\n        var range_mapping = CharacterDefinition.parseRangeCategoryMapping(parsed_range_category_mapping);\n        this.category_mapping.push(range_mapping);\n    }\n};\n\nCharacterDefinitionBuilder.prototype.build = function () {\n    // TODO If DEFAULT category does not exist, throw error\n    this.char_def.invoke_definition_map.init(this.character_category_definition);\n    this.char_def.initCategoryMappings(this.category_mapping);\n    return this.char_def;\n};\n\nmodule.exports = CharacterDefinitionBuilder;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,IAAIA,mBAAmB,GAAGC,OAAO,CAAC,wBAAwB,CAAC;AAC3D,IAAIC,mBAAmB,GAAGD,OAAO,CAAC,wBAAwB,CAAC;AAE3D,IAAIE,oBAAoB,GAAG,6BAA6B;AACxD,IAAIC,wBAAwB,GAAG,mDAAmD;AAClF,IAAIC,8BAA8B,GAAG,sEAAsE;;AAE3G;AACA;AACA;AACA;AACA,SAASC,0BAA0BA,CAAA,EAAG;EAClC,IAAI,CAACC,QAAQ,GAAG,IAAIP,mBAAmB,CAAC,CAAC;EACzC,IAAI,CAACO,QAAQ,CAACC,qBAAqB,GAAG,IAAIN,mBAAmB,CAAC,CAAC;EAC/D,IAAI,CAACO,6BAA6B,GAAG,EAAE;EACvC,IAAI,CAACC,gBAAgB,GAAG,EAAE;AAC9B;AAEAJ,0BAA0B,CAACK,SAAS,CAACC,OAAO,GAAG,UAAUC,IAAI,EAAE;EAC3D,IAAIC,mBAAmB,GAAGX,oBAAoB,CAACY,IAAI,CAACF,IAAI,CAAC;EACzD,IAAIC,mBAAmB,IAAI,IAAI,EAAE;IAC7B,IAAIE,QAAQ,GAAG,IAAI,CAACP,6BAA6B,CAACQ,MAAM;IACxD,IAAIC,UAAU,GAAGlB,mBAAmB,CAACmB,iBAAiB,CAACH,QAAQ,EAAEF,mBAAmB,CAAC;IACrF,IAAII,UAAU,IAAI,IAAI,EAAE;MACpB;IACJ;IACA,IAAI,CAACT,6BAA6B,CAACW,IAAI,CAACF,UAAU,CAAC;IACnD;EACJ;EACA,IAAIG,uBAAuB,GAAGjB,wBAAwB,CAACW,IAAI,CAACF,IAAI,CAAC;EACjE,IAAIQ,uBAAuB,IAAI,IAAI,EAAE;IACjC,IAAIC,OAAO,GAAGtB,mBAAmB,CAACuB,oBAAoB,CAACF,uBAAuB,CAAC;IAC/E,IAAI,CAACX,gBAAgB,CAACU,IAAI,CAACE,OAAO,CAAC;EACvC;EACA,IAAIE,6BAA6B,GAAGnB,8BAA8B,CAACU,IAAI,CAACF,IAAI,CAAC;EAC7E,IAAIW,6BAA6B,IAAI,IAAI,EAAE;IACvC,IAAIC,aAAa,GAAGzB,mBAAmB,CAAC0B,yBAAyB,CAACF,6BAA6B,CAAC;IAChG,IAAI,CAACd,gBAAgB,CAACU,IAAI,CAACK,aAAa,CAAC;EAC7C;AACJ,CAAC;AAEDnB,0BAA0B,CAACK,SAAS,CAACgB,KAAK,GAAG,YAAY;EACrD;EACA,IAAI,CAACpB,QAAQ,CAACC,qBAAqB,CAACoB,IAAI,CAAC,IAAI,CAACnB,6BAA6B,CAAC;EAC5E,IAAI,CAACF,QAAQ,CAACsB,oBAAoB,CAAC,IAAI,CAACnB,gBAAgB,CAAC;EACzD,OAAO,IAAI,CAACH,QAAQ;AACxB,CAAC;AAEDuB,MAAM,CAACC,OAAO,GAAGzB,0BAA0B","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}