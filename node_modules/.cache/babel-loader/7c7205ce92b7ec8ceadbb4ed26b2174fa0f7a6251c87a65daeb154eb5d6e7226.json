{"ast":null,"code":"var _jsxFileName = \"/Users/zyq/Desktop/\\u5927\\u4E8C\\u4E0B/\\u6691\\u671F\\u5B9E\\u4E60/moonshot project/src/components/FlowerSelector.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { flower1Icon, flower2Icon, flower3Icon } from '../assets';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlowerSelectPanel = styled.div`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(20, 20, 40, 0.8);\n  border-radius: 15px;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);\n`;\n_c = FlowerSelectPanel;\nconst Title = styled.h3`\n  color: white;\n  text-align: center;\n  margin: 0 0 10px 0;\n  font-size: 18px;\n`;\n_c2 = Title;\nconst FlowerOptions = styled.div`\n  display: flex;\n  justify-content: space-around;\n  gap: 15px;\n`;\n_c3 = FlowerOptions;\nconst FlowerOption = styled.div`\n  width: 60px;\n  height: 60px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  border-radius: 10px;\n  padding: 10px;\n  background-color: ${props => props.selected ? 'rgba(255, 255, 255, 0.2)' : 'transparent'};\n  \n  &:hover {\n    transform: scale(1.1);\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n\n  &.flower1 {\n    background-image: url(${flower1Icon});\n  }\n\n  &.flower2 {\n    background-image: url(${flower2Icon});\n  }\n\n  &.flower3 {\n    background-image: url(${flower3Icon});\n  }\n`;\n_c4 = FlowerOption;\nconst Description = styled.div`\n  text-align: center;\n  color: white;\n  margin: 5px 0;\n  font-size: 14px;\n`;\n_c5 = Description;\nexport const FlowerSelector = ({\n  onPlantFlower,\n  onClose\n}) => {\n  _s();\n  const [selectedFlower, setSelectedFlower] = useState('flower1');\n\n  // 处理花朵选择和自动放置\n  const handleSelectAndPlant = style => {\n    // 设置选中的花朵样式\n    setSelectedFlower(style);\n\n    // 自动放置到月球上\n    placeFlowerOnMoon(style);\n  };\n\n  // 将花朵放置到月球上的随机位置\n  const placeFlowerOnMoon = style => {\n    try {\n      // 计算月球中心位置（假设在屏幕中央）\n      const centerX = Math.round(window.innerWidth / 2);\n      const centerY = Math.round(window.innerHeight / 2);\n\n      // 随机位置（在月球附近）\n      const randomAngle = Math.random() * Math.PI * 2;\n      const randomDistance = 50 + Math.random() * 80; // 距离月球中心50-130px\n\n      const x = Math.round(centerX + Math.cos(randomAngle) * randomDistance - 24);\n      const y = Math.round(centerY + Math.sin(randomAngle) * randomDistance - 24);\n      const newFlower = {\n        id: `flower-${Date.now()}`,\n        style,\n        position: {\n          x,\n          y\n        }\n      };\n\n      // 将新花朵传递给父组件\n      onPlantFlower(newFlower);\n      onClose();\n    } catch (error) {\n      console.error('种花时出错:', error);\n      onClose();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(FlowerSelectPanel, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"\\u9009\\u62E9\\u8981\\u79CD\\u690D\\u7684\\u82B1\\u6735\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FlowerOptions, {\n      children: [/*#__PURE__*/_jsxDEV(FlowerOption, {\n        selected: selectedFlower === 'flower1',\n        onClick: () => handleSelectAndPlant('flower1'),\n        className: \"flower1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FlowerOption, {\n        selected: selectedFlower === 'flower2',\n        onClick: () => handleSelectAndPlant('flower2'),\n        className: \"flower2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FlowerOption, {\n        selected: selectedFlower === 'flower3',\n        onClick: () => handleSelectAndPlant('flower3'),\n        className: \"flower3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Description, {\n      children: \"\\u70B9\\u51FB\\u82B1\\u6735\\u5373\\u53EF\\u79CD\\u690D\\u5230\\u6708\\u7403\\u4E0A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n_s(FlowerSelector, \"eyhU4spmnjYARh1zsUqb+3Iz9IE=\");\n_c6 = FlowerSelector;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"FlowerSelectPanel\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"FlowerOptions\");\n$RefreshReg$(_c4, \"FlowerOption\");\n$RefreshReg$(_c5, \"Description\");\n$RefreshReg$(_c6, \"FlowerSelector\");","map":{"version":3,"names":["React","useState","styled","flower1Icon","flower2Icon","flower3Icon","jsxDEV","_jsxDEV","FlowerSelectPanel","div","_c","Title","h3","_c2","FlowerOptions","_c3","FlowerOption","props","selected","_c4","Description","_c5","FlowerSelector","onPlantFlower","onClose","_s","selectedFlower","setSelectedFlower","handleSelectAndPlant","style","placeFlowerOnMoon","centerX","Math","round","window","innerWidth","centerY","innerHeight","randomAngle","random","PI","randomDistance","x","cos","y","sin","newFlower","id","Date","now","position","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","className","_c6","$RefreshReg$"],"sources":["/Users/zyq/Desktop/大二下/暑期实习/moonshot project/src/components/FlowerSelector.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Flower } from '../types';\nimport { flower1Icon, flower2Icon, flower3Icon } from '../assets';\n\nconst FlowerSelectPanel = styled.div`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(20, 20, 40, 0.8);\n  border-radius: 15px;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);\n`;\n\nconst Title = styled.h3`\n  color: white;\n  text-align: center;\n  margin: 0 0 10px 0;\n  font-size: 18px;\n`;\n\nconst FlowerOptions = styled.div`\n  display: flex;\n  justify-content: space-around;\n  gap: 15px;\n`;\n\nconst FlowerOption = styled.div<{ selected: boolean }>`\n  width: 60px;\n  height: 60px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  border-radius: 10px;\n  padding: 10px;\n  background-color: ${props => props.selected ? 'rgba(255, 255, 255, 0.2)' : 'transparent'};\n  \n  &:hover {\n    transform: scale(1.1);\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n\n  &.flower1 {\n    background-image: url(${flower1Icon});\n  }\n\n  &.flower2 {\n    background-image: url(${flower2Icon});\n  }\n\n  &.flower3 {\n    background-image: url(${flower3Icon});\n  }\n`;\n\nconst Description = styled.div`\n  text-align: center;\n  color: white;\n  margin: 5px 0;\n  font-size: 14px;\n`;\n\ninterface FlowerSelectorProps {\n  onPlantFlower: (flower: Flower) => void;\n  onClose: () => void;\n}\n\nexport const FlowerSelector: React.FC<FlowerSelectorProps> = ({ onPlantFlower, onClose }) => {\n  const [selectedFlower, setSelectedFlower] = useState<'flower1' | 'flower2' | 'flower3'>('flower1');\n  \n  // 处理花朵选择和自动放置\n  const handleSelectAndPlant = (style: 'flower1' | 'flower2' | 'flower3') => {\n    // 设置选中的花朵样式\n    setSelectedFlower(style);\n    \n    // 自动放置到月球上\n    placeFlowerOnMoon(style);\n  };\n  \n  // 将花朵放置到月球上的随机位置\n  const placeFlowerOnMoon = (style: 'flower1' | 'flower2' | 'flower3') => {\n    try {\n      // 计算月球中心位置（假设在屏幕中央）\n      const centerX = Math.round(window.innerWidth / 2);\n      const centerY = Math.round(window.innerHeight / 2);\n      \n      // 随机位置（在月球附近）\n      const randomAngle = Math.random() * Math.PI * 2;\n      const randomDistance = 50 + Math.random() * 80; // 距离月球中心50-130px\n      \n      const x = Math.round(centerX + Math.cos(randomAngle) * randomDistance - 24);\n      const y = Math.round(centerY + Math.sin(randomAngle) * randomDistance - 24);\n      \n      const newFlower: Flower = {\n        id: `flower-${Date.now()}`,\n        style,\n        position: { x, y }\n      };\n      \n      // 将新花朵传递给父组件\n      onPlantFlower(newFlower);\n      onClose();\n    } catch (error) {\n      console.error('种花时出错:', error);\n      onClose();\n    }\n  };\n  \n  return (\n    <FlowerSelectPanel>\n      <Title>选择要种植的花朵</Title>\n      <FlowerOptions>\n        <FlowerOption \n          selected={selectedFlower === 'flower1'}\n          onClick={() => handleSelectAndPlant('flower1')}\n          className=\"flower1\"\n        />\n        <FlowerOption \n          selected={selectedFlower === 'flower2'}\n          onClick={() => handleSelectAndPlant('flower2')}\n          className=\"flower2\"\n        />\n        <FlowerOption \n          selected={selectedFlower === 'flower3'}\n          onClick={() => handleSelectAndPlant('flower3')}\n          className=\"flower3\"\n        />\n      </FlowerOptions>\n      <Description>\n        点击花朵即可种植到月球上\n      </Description>\n    </FlowerSelectPanel>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}