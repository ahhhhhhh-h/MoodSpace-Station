{"ast":null,"code":"var _jsxFileName = \"/Users/zyq/Desktop/\\u5927\\u4E8C\\u4E0B/\\u6691\\u671F\\u5B9E\\u4E60/moonshot project/src/components/FlowerSelector.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { flower1Icon, flower2Icon, flower3Icon } from '../assets';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlowerSelectPanel = styled.div`\n  position: fixed;\n  top: 50%; left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(20,20,40,0.8);\n  border-radius: 15px;\n  padding: 20px;\n  display: flex; flex-direction: column; gap: 15px;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n  box-shadow: 0 5px 20px rgba(0,0,0,0.3);\n`;\n_c = FlowerSelectPanel;\nconst Title = styled.h3`\n  color: white; text-align: center; margin: 0 0 10px; font-size: 18px;\n`;\n_c2 = Title;\nconst FlowerOptions = styled.div`\n  display: flex; justify-content: space-around; gap: 15px;\n`;\n_c3 = FlowerOptions;\nconst FlowerOption = styled.div`\n  width: 60px; height: 60px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: ${p => p.flowerType === 'flower1' ? `url(${flower1Icon})` : p.flowerType === 'flower2' ? `url(${flower2Icon})` : `url(${flower3Icon})`};\n  cursor: pointer;\n  border-radius: 10px;\n  padding: 10px;\n  border: ${p => p.selected ? '2px solid #fff' : '2px solid transparent'};\n  transition: transform 0.2s, background-color 0.2s;\n\n  &:hover {\n    transform: scale(1.1);\n    background-color: rgba(255,255,255,0.1);\n  }\n`;\n_c4 = FlowerOption;\nconst Description = styled.div`\n  text-align: center;\n  color: white;\n  font-size: 14px;\n`;\n_c5 = Description;\nexport const FlowerSelector = ({\n  onPlantFlower,\n  onClose\n}) => {\n  _s();\n  const [selectedFlower, setSelectedFlower] = useState('flower1');\n  const handleSelectAndPlant = style => {\n    setSelectedFlower(style);\n    const w = window.innerWidth;\n    const h = window.innerHeight;\n    const moonX = w / 2;\n    const moonY = (h - 180 + 120) / 2; // 考虑顶部和底部空间\n    const moonR = 150;\n    const flowerSize = 32;\n\n    // 在月球表面生成位置（使用更小的半径范围）\n    const angle = Math.random() * Math.PI * 2; // 随机角度\n    const minDist = 20; // 距离月球中心至少20px\n    const maxDist = moonR - flowerSize / 2; // 不超过月球边缘\n    const distance = minDist + Math.random() * (maxDist - minDist);\n\n    // 转换为月球表面的坐标\n    const x = Math.round(moonX + Math.cos(angle) * distance - flowerSize / 2);\n    const y = Math.round(moonY + Math.sin(angle) * distance - flowerSize / 2);\n    const newFlower = {\n      id: `flower-${Date.now()}`,\n      style,\n      position: {\n        x,\n        y\n      }\n    };\n    onPlantFlower(newFlower);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(FlowerSelectPanel, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"\\u9009\\u62E9\\u8981\\u79CD\\u690D\\u7684\\u82B1\\u6735\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FlowerOptions, {\n      children: ['flower1', 'flower2', 'flower3'].map(f => /*#__PURE__*/_jsxDEV(FlowerOption, {\n        flowerType: f,\n        selected: selectedFlower === f,\n        onClick: () => handleSelectAndPlant(f)\n      }, f, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Description, {\n      children: \"\\u70B9\\u51FB\\u82B1\\u6735\\u5373\\u53EF\\u79CD\\u690D\\u5230\\u6708\\u7403\\u4E0A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n_s(FlowerSelector, \"eyhU4spmnjYARh1zsUqb+3Iz9IE=\");\n_c6 = FlowerSelector;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"FlowerSelectPanel\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"FlowerOptions\");\n$RefreshReg$(_c4, \"FlowerOption\");\n$RefreshReg$(_c5, \"Description\");\n$RefreshReg$(_c6, \"FlowerSelector\");","map":{"version":3,"names":["React","useState","styled","flower1Icon","flower2Icon","flower3Icon","jsxDEV","_jsxDEV","FlowerSelectPanel","div","_c","Title","h3","_c2","FlowerOptions","_c3","FlowerOption","p","flowerType","selected","_c4","Description","_c5","FlowerSelector","onPlantFlower","onClose","_s","selectedFlower","setSelectedFlower","handleSelectAndPlant","style","w","window","innerWidth","h","innerHeight","moonX","moonY","moonR","flowerSize","angle","Math","random","PI","minDist","maxDist","distance","x","round","cos","y","sin","newFlower","id","Date","now","position","children","fileName","_jsxFileName","lineNumber","columnNumber","map","f","onClick","_c6","$RefreshReg$"],"sources":["/Users/zyq/Desktop/大二下/暑期实习/moonshot project/src/components/FlowerSelector.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Flower } from '../types';\nimport { flower1Icon, flower2Icon, flower3Icon } from '../assets';\n\nconst FlowerSelectPanel = styled.div`\n  position: fixed;\n  top: 50%; left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(20,20,40,0.8);\n  border-radius: 15px;\n  padding: 20px;\n  display: flex; flex-direction: column; gap: 15px;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n  box-shadow: 0 5px 20px rgba(0,0,0,0.3);\n`;\n\nconst Title = styled.h3`\n  color: white; text-align: center; margin: 0 0 10px; font-size: 18px;\n`;\n\nconst FlowerOptions = styled.div`\n  display: flex; justify-content: space-around; gap: 15px;\n`;\n\nconst FlowerOption = styled.div<{\n  selected: boolean;\n  flowerType: 'flower1' | 'flower2' | 'flower3';\n}>`\n  width: 60px; height: 60px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: ${p =>\n    p.flowerType === 'flower1'\n      ? `url(${flower1Icon})`\n      : p.flowerType === 'flower2'\n      ? `url(${flower2Icon})`\n      : `url(${flower3Icon})`\n  };\n  cursor: pointer;\n  border-radius: 10px;\n  padding: 10px;\n  border: ${p => (p.selected ? '2px solid #fff' : '2px solid transparent')};\n  transition: transform 0.2s, background-color 0.2s;\n\n  &:hover {\n    transform: scale(1.1);\n    background-color: rgba(255,255,255,0.1);\n  }\n`;\n\nconst Description = styled.div`\n  text-align: center;\n  color: white;\n  font-size: 14px;\n`;\n\ninterface FlowerSelectorProps {\n  onPlantFlower: (flower: Flower) => void;\n  onClose: () => void;\n}\n\nexport const FlowerSelector: React.FC<FlowerSelectorProps> = ({\n  onPlantFlower,\n  onClose\n}) => {\n  const [selectedFlower, setSelectedFlower] =\n    useState<'flower1' | 'flower2' | 'flower3'>('flower1');\n\n  const handleSelectAndPlant = (\n    style: 'flower1' | 'flower2' | 'flower3'\n  ) => {\n    setSelectedFlower(style);\n\n    const w = window.innerWidth;\n    const h = window.innerHeight;\n    const moonX = w / 2;\n    const moonY = (h - 180 + 120) / 2; // 考虑顶部和底部空间\n    const moonR = 150;\n    const flowerSize = 32;\n\n    // 在月球表面生成位置（使用更小的半径范围）\n    const angle = Math.random() * Math.PI * 2; // 随机角度\n    const minDist = 20;  // 距离月球中心至少20px\n    const maxDist = moonR - flowerSize/2; // 不超过月球边缘\n    const distance = minDist + Math.random() * (maxDist - minDist);\n\n    // 转换为月球表面的坐标\n    const x = Math.round(moonX + Math.cos(angle) * distance - flowerSize/2);\n    const y = Math.round(moonY + Math.sin(angle) * distance - flowerSize/2);\n\n    const newFlower: Flower = {\n      id: `flower-${Date.now()}`,\n      style,\n      position: { x, y }\n    };\n\n    onPlantFlower(newFlower);\n    onClose();\n  };\n\n  return (\n    <FlowerSelectPanel>\n      <Title>选择要种植的花朵</Title>\n      <FlowerOptions>\n        {(['flower1', 'flower2', 'flower3'] as const).map(f => (\n          <FlowerOption\n            key={f}\n            flowerType={f}\n            selected={selectedFlower === f}\n            onClick={() => handleSelectAndPlant(f)}\n          />\n        ))}\n      </FlowerOptions>\n      <Description>点击花朵即可种植到月球上</Description>\n    </FlowerSelectPanel>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,MAAM,MAAM,mBAAmB;AAEtC,SAASC,WAAW,EAAEC,WAAW,EAAEC,WAAW,QAAQ,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElE,MAAMC,iBAAiB,GAAGN,MAAM,CAACO,GAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAXIF,iBAAiB;AAavB,MAAMG,KAAK,GAAGT,MAAM,CAACU,EAAE;AACvB;AACA,CAAC;AAACC,GAAA,GAFIF,KAAK;AAIX,MAAMG,aAAa,GAAGZ,MAAM,CAACO,GAAG;AAChC;AACA,CAAC;AAACM,GAAA,GAFID,aAAa;AAInB,MAAME,YAAY,GAAGd,MAAM,CAACO,GAG1B;AACF;AACA;AACA;AACA;AACA,sBAAsBQ,CAAC,IACnBA,CAAC,CAACC,UAAU,KAAK,SAAS,GACtB,OAAOf,WAAW,GAAG,GACrBc,CAAC,CAACC,UAAU,KAAK,SAAS,GAC1B,OAAOd,WAAW,GAAG,GACrB,OAAOC,WAAW,GAAG;AAC7B;AACA;AACA;AACA,YACYY,CAAC,IAAKA,CAAC,CAACE,QAAQ,GAAG,gBAAgB,GAAG,uBAAwB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAzBIJ,YAAY;AA2BlB,MAAMK,WAAW,GAAGnB,MAAM,CAACO,GAAG;AAC9B;AACA;AACA;AACA,CAAC;AAACa,GAAA,GAJID,WAAW;AAWjB,OAAO,MAAME,cAA6C,GAAGA,CAAC;EAC5DC,aAAa;EACbC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GACvC3B,QAAQ,CAAoC,SAAS,CAAC;EAExD,MAAM4B,oBAAoB,GACxBC,KAAwC,IACrC;IACHF,iBAAiB,CAACE,KAAK,CAAC;IAExB,MAAMC,CAAC,GAAGC,MAAM,CAACC,UAAU;IAC3B,MAAMC,CAAC,GAAGF,MAAM,CAACG,WAAW;IAC5B,MAAMC,KAAK,GAAGL,CAAC,GAAG,CAAC;IACnB,MAAMM,KAAK,GAAG,CAACH,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;IACnC,MAAMI,KAAK,GAAG,GAAG;IACjB,MAAMC,UAAU,GAAG,EAAE;;IAErB;IACA,MAAMC,KAAK,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGD,IAAI,CAACE,EAAE,GAAG,CAAC,CAAC,CAAC;IAC3C,MAAMC,OAAO,GAAG,EAAE,CAAC,CAAE;IACrB,MAAMC,OAAO,GAAGP,KAAK,GAAGC,UAAU,GAAC,CAAC,CAAC,CAAC;IACtC,MAAMO,QAAQ,GAAGF,OAAO,GAAGH,IAAI,CAACC,MAAM,CAAC,CAAC,IAAIG,OAAO,GAAGD,OAAO,CAAC;;IAE9D;IACA,MAAMG,CAAC,GAAGN,IAAI,CAACO,KAAK,CAACZ,KAAK,GAAGK,IAAI,CAACQ,GAAG,CAACT,KAAK,CAAC,GAAGM,QAAQ,GAAGP,UAAU,GAAC,CAAC,CAAC;IACvE,MAAMW,CAAC,GAAGT,IAAI,CAACO,KAAK,CAACX,KAAK,GAAGI,IAAI,CAACU,GAAG,CAACX,KAAK,CAAC,GAAGM,QAAQ,GAAGP,UAAU,GAAC,CAAC,CAAC;IAEvE,MAAMa,SAAiB,GAAG;MACxBC,EAAE,EAAE,UAAUC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;MAC1BzB,KAAK;MACL0B,QAAQ,EAAE;QAAET,CAAC;QAAEG;MAAE;IACnB,CAAC;IAED1B,aAAa,CAAC4B,SAAS,CAAC;IACxB3B,OAAO,CAAC,CAAC;EACX,CAAC;EAED,oBACElB,OAAA,CAACC,iBAAiB;IAAAiD,QAAA,gBAChBlD,OAAA,CAACI,KAAK;MAAA8C,QAAA,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eACvBtD,OAAA,CAACO,aAAa;MAAA2C,QAAA,EACV,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAWK,GAAG,CAACC,CAAC,iBACjDxD,OAAA,CAACS,YAAY;QAEXE,UAAU,EAAE6C,CAAE;QACd5C,QAAQ,EAAEQ,cAAc,KAAKoC,CAAE;QAC/BC,OAAO,EAAEA,CAAA,KAAMnC,oBAAoB,CAACkC,CAAC;MAAE,GAHlCA,CAAC;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIP,CACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACW,CAAC,eAChBtD,OAAA,CAACc,WAAW;MAAAoC,QAAA,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAa,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtB,CAAC;AAExB,CAAC;AAACnC,EAAA,CAvDWH,cAA6C;AAAA0C,GAAA,GAA7C1C,cAA6C;AAAA,IAAAb,EAAA,EAAAG,GAAA,EAAAE,GAAA,EAAAK,GAAA,EAAAE,GAAA,EAAA2C,GAAA;AAAAC,YAAA,CAAAxD,EAAA;AAAAwD,YAAA,CAAArD,GAAA;AAAAqD,YAAA,CAAAnD,GAAA;AAAAmD,YAAA,CAAA9C,GAAA;AAAA8C,YAAA,CAAA5C,GAAA;AAAA4C,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}