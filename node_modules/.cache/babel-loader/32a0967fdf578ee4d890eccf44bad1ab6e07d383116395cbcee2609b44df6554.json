{"ast":null,"code":"import React,{useState}from'react';import styled from'styled-components';import{flower1Icon,flower2Icon,flower3Icon}from'../assets';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FlowerSelectPanel=styled.div`\n  position: fixed;\n  top: 50%; left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(20,20,40,0.8);\n  border-radius: 15px;\n  padding: 20px;\n  display: flex; flex-direction: column; gap: 15px;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n  box-shadow: 0 5px 20px rgba(0,0,0,0.3);\n`;const Title=styled.h3`\n  color: white; text-align: center; margin: 0 0 10px; font-size: 18px;\n`;const FlowerOptions=styled.div`\n  display: flex; justify-content: space-around; gap: 15px;\n`;const FlowerOption=styled.div`\n  width: 60px; height: 60px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: ${p=>p.flowerType==='flower1'?`url(${flower1Icon})`:p.flowerType==='flower2'?`url(${flower2Icon})`:`url(${flower3Icon})`};\n  cursor: pointer;\n  border-radius: 10px;\n  padding: 10px;\n  border: ${p=>p.selected?'2px solid #fff':'2px solid transparent'};\n  transition: transform 0.2s, background-color 0.2s;\n\n  &:hover {\n    transform: scale(1.1);\n    background-color: rgba(255,255,255,0.1);\n  }\n`;const Description=styled.div`\n  text-align: center;\n  color: white;\n  font-size: 14px;\n`;export const FlowerSelector=_ref=>{let{onPlantFlower,onClose}=_ref;const[selectedFlower,setSelectedFlower]=useState('flower1');const handleSelectAndPlant=style=>{setSelectedFlower(style);const moonSize=360;// 月球容器的大小\nconst flowerSize=32;const centerOffset=moonSize/2;// 月球中心点\nconst moonRadius=moonSize/2;// 月球半径\n// 在月球表面生成位置\nconst angle=Math.random()*Math.PI*2;const minDist=20;// 距离月球中心至少20px\nconst maxDist=moonRadius*0.68;// 只使用月球半径的70%，确保不会太靠近边缘\nconst distance=minDist+Math.random()*(maxDist-minDist);// 计算相对于月球容器左上角的坐标，并确保花朵完全在月球内\nconst x=Math.round(centerOffset+Math.cos(angle)*distance-flowerSize/2);const y=Math.round(centerOffset+Math.sin(angle)*distance-flowerSize/2);const newFlower={id:`flower-${Date.now()}`,style,position:{x,y}};onPlantFlower(newFlower);onClose();};return/*#__PURE__*/_jsxs(FlowerSelectPanel,{children:[/*#__PURE__*/_jsx(Title,{children:\"\\u9009\\u62E9\\u8981\\u79CD\\u690D\\u7684\\u82B1\\u6735\"}),/*#__PURE__*/_jsx(FlowerOptions,{children:['flower1','flower2','flower3'].map(f=>/*#__PURE__*/_jsx(FlowerOption,{flowerType:f,selected:selectedFlower===f,onClick:()=>handleSelectAndPlant(f)},f))}),/*#__PURE__*/_jsx(Description,{children:\"\\u70B9\\u51FB\\u82B1\\u6735\\u5373\\u53EF\\u79CD\\u690D\\u5230\\u6708\\u7403\\u4E0A\"})]});};","map":{"version":3,"names":["React","useState","styled","flower1Icon","flower2Icon","flower3Icon","jsx","_jsx","jsxs","_jsxs","FlowerSelectPanel","div","Title","h3","FlowerOptions","FlowerOption","p","flowerType","selected","Description","FlowerSelector","_ref","onPlantFlower","onClose","selectedFlower","setSelectedFlower","handleSelectAndPlant","style","moonSize","flowerSize","centerOffset","moonRadius","angle","Math","random","PI","minDist","maxDist","distance","x","round","cos","y","sin","newFlower","id","Date","now","position","children","map","f","onClick"],"sources":["/Users/zyq/Desktop/大二下/暑期实习/moonshot project/src/components/FlowerSelector.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Flower } from '../types';\nimport { flower1Icon, flower2Icon, flower3Icon } from '../assets';\n\nconst FlowerSelectPanel = styled.div`\n  position: fixed;\n  top: 50%; left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(20,20,40,0.8);\n  border-radius: 15px;\n  padding: 20px;\n  display: flex; flex-direction: column; gap: 15px;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n  box-shadow: 0 5px 20px rgba(0,0,0,0.3);\n`;\n\nconst Title = styled.h3`\n  color: white; text-align: center; margin: 0 0 10px; font-size: 18px;\n`;\n\nconst FlowerOptions = styled.div`\n  display: flex; justify-content: space-around; gap: 15px;\n`;\n\nconst FlowerOption = styled.div<{\n  selected: boolean;\n  flowerType: 'flower1' | 'flower2' | 'flower3';\n}>`\n  width: 60px; height: 60px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: ${p =>\n    p.flowerType === 'flower1'\n      ? `url(${flower1Icon})`\n      : p.flowerType === 'flower2'\n      ? `url(${flower2Icon})`\n      : `url(${flower3Icon})`\n  };\n  cursor: pointer;\n  border-radius: 10px;\n  padding: 10px;\n  border: ${p => (p.selected ? '2px solid #fff' : '2px solid transparent')};\n  transition: transform 0.2s, background-color 0.2s;\n\n  &:hover {\n    transform: scale(1.1);\n    background-color: rgba(255,255,255,0.1);\n  }\n`;\n\nconst Description = styled.div`\n  text-align: center;\n  color: white;\n  font-size: 14px;\n`;\n\ninterface FlowerSelectorProps {\n  onPlantFlower: (flower: Flower) => void;\n  onClose: () => void;\n}\n\nexport const FlowerSelector: React.FC<FlowerSelectorProps> = ({\n  onPlantFlower,\n  onClose\n}) => {\n  const [selectedFlower, setSelectedFlower] =\n    useState<'flower1' | 'flower2' | 'flower3'>('flower1');\n\n  const handleSelectAndPlant = (\n    style: 'flower1' | 'flower2' | 'flower3'\n  ) => {\n    setSelectedFlower(style);\n\n    const moonSize = 360; // 月球容器的大小\n    const flowerSize = 32;\n    const centerOffset = moonSize / 2; // 月球中心点\n    const moonRadius = moonSize / 2; // 月球半径\n\n    // 在月球表面生成位置\n    const angle = Math.random() * Math.PI * 2;\n    const minDist = 20;  // 距离月球中心至少20px\n    const maxDist = moonRadius * 0.68; // 只使用月球半径的70%，确保不会太靠近边缘\n    const distance = minDist + Math.random() * (maxDist - minDist);\n\n    // 计算相对于月球容器左上角的坐标，并确保花朵完全在月球内\n    const x = Math.round(centerOffset + Math.cos(angle) * distance - flowerSize/2);\n    const y = Math.round(centerOffset + Math.sin(angle) * distance - flowerSize/2);\n\n    const newFlower: Flower = {\n      id: `flower-${Date.now()}`,\n      style,\n      position: { x, y }\n    };\n\n    onPlantFlower(newFlower);\n    onClose();\n  };\n\n  return (\n    <FlowerSelectPanel>\n      <Title>选择要种植的花朵</Title>\n      <FlowerOptions>\n        {(['flower1', 'flower2', 'flower3'] as const).map(f => (\n          <FlowerOption\n            key={f}\n            flowerType={f}\n            selected={selectedFlower === f}\n            onClick={() => handleSelectAndPlant(f)}\n          />\n        ))}\n      </FlowerOptions>\n      <Description>点击花朵即可种植到月球上</Description>\n    </FlowerSelectPanel>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}