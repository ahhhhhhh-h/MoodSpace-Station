{"ast":null,"code":"/*\n * Copyright (c) AXA Group Operations Spain S.A.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nconst {\n  defaultContainer\n} = require('./container');\nclass Stemmer {\n  constructor(container = defaultContainer) {\n    this.container = container.container || container;\n    this.name = 'stem';\n  }\n  stem(tokens) {\n    return tokens;\n  }\n  getStemmer(srcInput) {\n    const input = srcInput;\n    const locale = input.locale || (input.settings ? input.settings.locale || 'en' : 'en');\n    let stemmer = this.container.get(`stemmer-${locale}`);\n    if (!stemmer) {\n      const stemmerBert = this.container.get(`stemmer-bert`);\n      if (stemmerBert && stemmerBert.activeFor(locale)) {\n        stemmer = stemmerBert;\n      } else {\n        stemmer = this;\n      }\n    }\n    return stemmer;\n  }\n  async addForTraining(srcInput) {\n    const stemmer = this.getStemmer(srcInput);\n    if (stemmer.addUtterance) {\n      await stemmer.addUtterance(srcInput.utterance, srcInput.intent);\n    }\n    return srcInput;\n  }\n  async train(srcInput) {\n    const stemmer = this.getStemmer(srcInput);\n    if (stemmer.innerTrain) {\n      await stemmer.innerTrain();\n    }\n    return srcInput;\n  }\n  async run(srcInput) {\n    const input = srcInput;\n    const stemmer = this.getStemmer(input);\n    input.tokens = await stemmer.stem(input.tokens, input);\n    return input;\n  }\n}\nmodule.exports = Stemmer;","map":{"version":3,"names":["defaultContainer","require","Stemmer","constructor","container","name","stem","tokens","getStemmer","srcInput","input","locale","settings","stemmer","get","stemmerBert","activeFor","addForTraining","addUtterance","utterance","intent","train","innerTrain","run","module","exports"],"sources":["/Users/zyq/Desktop/大二下/暑期实习/moonshot project/node_modules/@nlpjs/core/src/stemmer.js"],"sourcesContent":["/*\n * Copyright (c) AXA Group Operations Spain S.A.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nconst { defaultContainer } = require('./container');\n\nclass Stemmer {\n  constructor(container = defaultContainer) {\n    this.container = container.container || container;\n    this.name = 'stem';\n  }\n\n  stem(tokens) {\n    return tokens;\n  }\n\n  getStemmer(srcInput) {\n    const input = srcInput;\n    const locale =\n      input.locale || (input.settings ? input.settings.locale || 'en' : 'en');\n    let stemmer = this.container.get(`stemmer-${locale}`);\n    if (!stemmer) {\n      const stemmerBert = this.container.get(`stemmer-bert`);\n      if (stemmerBert && stemmerBert.activeFor(locale)) {\n        stemmer = stemmerBert;\n      } else {\n        stemmer = this;\n      }\n    }\n    return stemmer;\n  }\n\n  async addForTraining(srcInput) {\n    const stemmer = this.getStemmer(srcInput);\n    if (stemmer.addUtterance) {\n      await stemmer.addUtterance(srcInput.utterance, srcInput.intent);\n    }\n    return srcInput;\n  }\n\n  async train(srcInput) {\n    const stemmer = this.getStemmer(srcInput);\n    if (stemmer.innerTrain) {\n      await stemmer.innerTrain();\n    }\n    return srcInput;\n  }\n\n  async run(srcInput) {\n    const input = srcInput;\n    const stemmer = this.getStemmer(input);\n    input.tokens = await stemmer.stem(input.tokens, input);\n    return input;\n  }\n}\n\nmodule.exports = Stemmer;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;EAAEA;AAAiB,CAAC,GAAGC,OAAO,CAAC,aAAa,CAAC;AAEnD,MAAMC,OAAO,CAAC;EACZC,WAAWA,CAACC,SAAS,GAAGJ,gBAAgB,EAAE;IACxC,IAAI,CAACI,SAAS,GAAGA,SAAS,CAACA,SAAS,IAAIA,SAAS;IACjD,IAAI,CAACC,IAAI,GAAG,MAAM;EACpB;EAEAC,IAAIA,CAACC,MAAM,EAAE;IACX,OAAOA,MAAM;EACf;EAEAC,UAAUA,CAACC,QAAQ,EAAE;IACnB,MAAMC,KAAK,GAAGD,QAAQ;IACtB,MAAME,MAAM,GACVD,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACE,QAAQ,GAAGF,KAAK,CAACE,QAAQ,CAACD,MAAM,IAAI,IAAI,GAAG,IAAI,CAAC;IACzE,IAAIE,OAAO,GAAG,IAAI,CAACT,SAAS,CAACU,GAAG,CAAC,WAAWH,MAAM,EAAE,CAAC;IACrD,IAAI,CAACE,OAAO,EAAE;MACZ,MAAME,WAAW,GAAG,IAAI,CAACX,SAAS,CAACU,GAAG,CAAC,cAAc,CAAC;MACtD,IAAIC,WAAW,IAAIA,WAAW,CAACC,SAAS,CAACL,MAAM,CAAC,EAAE;QAChDE,OAAO,GAAGE,WAAW;MACvB,CAAC,MAAM;QACLF,OAAO,GAAG,IAAI;MAChB;IACF;IACA,OAAOA,OAAO;EAChB;EAEA,MAAMI,cAAcA,CAACR,QAAQ,EAAE;IAC7B,MAAMI,OAAO,GAAG,IAAI,CAACL,UAAU,CAACC,QAAQ,CAAC;IACzC,IAAII,OAAO,CAACK,YAAY,EAAE;MACxB,MAAML,OAAO,CAACK,YAAY,CAACT,QAAQ,CAACU,SAAS,EAAEV,QAAQ,CAACW,MAAM,CAAC;IACjE;IACA,OAAOX,QAAQ;EACjB;EAEA,MAAMY,KAAKA,CAACZ,QAAQ,EAAE;IACpB,MAAMI,OAAO,GAAG,IAAI,CAACL,UAAU,CAACC,QAAQ,CAAC;IACzC,IAAII,OAAO,CAACS,UAAU,EAAE;MACtB,MAAMT,OAAO,CAACS,UAAU,CAAC,CAAC;IAC5B;IACA,OAAOb,QAAQ;EACjB;EAEA,MAAMc,GAAGA,CAACd,QAAQ,EAAE;IAClB,MAAMC,KAAK,GAAGD,QAAQ;IACtB,MAAMI,OAAO,GAAG,IAAI,CAACL,UAAU,CAACE,KAAK,CAAC;IACtCA,KAAK,CAACH,MAAM,GAAG,MAAMM,OAAO,CAACP,IAAI,CAACI,KAAK,CAACH,MAAM,EAAEG,KAAK,CAAC;IACtD,OAAOA,KAAK;EACd;AACF;AAEAc,MAAM,CAACC,OAAO,GAAGvB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}