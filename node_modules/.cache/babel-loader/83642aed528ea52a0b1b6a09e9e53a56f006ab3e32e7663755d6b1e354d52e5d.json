{"ast":null,"code":"/*\n * Copyright (c) AXA Group Operations Spain S.A.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * 'Software'), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nconst {\n  BaseStemmer\n} = require('@nlpjs/core');\nclass StemmerUk extends BaseStemmer {\n  constructor(container) {\n    super(container);\n    this.name = 'stemmer-uk';\n  }\n  match(scrWord, regex, replacement = '') {\n    const word = scrWord;\n    const src = word.str;\n    word.str = word.str.replace(regex, replacement);\n    return word.str !== src;\n  }\n  replace(token, regex, replacement = '') {\n    return token.replace(regex, replacement);\n  }\n  step1(word) {\n    let srcWord = word;\n    word = this.replace(word, /(?:[иы]в(?:ши(?:сь)?)?)$/);\n    word = this.replace(word, /(?:а(?:в(?:ши(?:сь)?)?))$/, 'а');\n    word = this.replace(word, /(?:я(?:в(?:ши(?:сь)?)?))$/, 'я');\n    if (srcWord === word) {\n      word = this.replace(word, /с[яьи]$/);\n      srcWord = word;\n      word = this.replace(word, /(?:[аеєуюя]|еє|ем|єє|ий|их|іх|ів|ій|ім|їй|ім|им|ими|іми|йми|ої|ою|ова|ове|ого|ому)$/);\n      if (srcWord !== word) {\n        word = this.replace(word, /(?:[аіу]|ій|ий|им|ім|их|йми|ого|ому|ою)$/);\n      } else {\n        srcWord = word;\n        word = this.replace(word, /(?:[еєую]|ав|али|ати|вши|ив|ити|ме|сь|ся|ши|учи|яти|ячи|ать|ять)$/g);\n        if (srcWord === word) {\n          word = this.replace(word, /(?:[аеєіїийоуыьюя]|ам|ах|ами|ев|еві|еи|ей|ем|ею|єм|єю|ів|їв|ий|ием|ию|ия|иям|иях|ов|ові|ой|ом|ою|ью|ья|ям|ями|ях)$/g);\n        }\n      }\n    }\n    return word;\n  }\n  step2(word) {\n    return this.replace(word, /и$/);\n  }\n  step3(word) {\n    if (/[^аеиоуюяіїє][аеиоуюяіїє]+[^аеиоуюяіїє]+[аеиоуюяіїє].*oсть/g.exec(word)) {\n      word = this.replace(word, /ость$/);\n    }\n    return word;\n  }\n  step4(word) {\n    const originalWord = word;\n    word = this.replace(originalWord, /ь$/);\n    if (originalWord === word) {\n      word = this.replace(word, /ейше$/);\n      word = this.replace(word, /нн$/, 'н');\n    }\n    return word;\n  }\n  innerStem() {\n    let word = this.getCurrent();\n    const matchVowel = /[аеиоуюяіїє]/.exec(word);\n    if (!matchVowel) {\n      this.setCurrent(word);\n      return;\n    }\n    if (matchVowel.index !== undefined) {\n      const start = word.slice(0, matchVowel.index + 1);\n      word = word.slice(matchVowel.index + 1);\n      if (word === '') {\n        this.setCurrent(start);\n        return;\n      }\n      word = this.step1(word);\n      word = this.step2(word);\n      word = this.step3(word);\n      word = this.step4(word);\n      this.setCurrent(`${start}${word}`);\n      return;\n    }\n    this.setCurrent(word);\n    this.setCurrent(`${word.start}${word.str}`);\n  }\n}\nmodule.exports = StemmerUk;","map":{"version":3,"names":["BaseStemmer","require","StemmerUk","constructor","container","name","match","scrWord","regex","replacement","word","src","str","replace","token","step1","srcWord","step2","step3","exec","step4","originalWord","innerStem","getCurrent","matchVowel","setCurrent","index","undefined","start","slice","module","exports"],"sources":["/Users/zyq/Desktop/大二下/暑期实习/moonshot project/node_modules/@nlpjs/lang-uk/src/stemmer-uk.js"],"sourcesContent":["/*\n * Copyright (c) AXA Group Operations Spain S.A.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * 'Software'), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nconst { BaseStemmer } = require('@nlpjs/core');\n\nclass StemmerUk extends BaseStemmer {\n  constructor(container) {\n    super(container);\n    this.name = 'stemmer-uk';\n  }\n\n  match(scrWord, regex, replacement = '') {\n    const word = scrWord;\n    const src = word.str;\n    word.str = word.str.replace(regex, replacement);\n    return word.str !== src;\n  }\n\n  replace(token, regex, replacement = '') {\n    return token.replace(regex, replacement);\n  }\n\n  step1(word) {\n    let srcWord = word;\n    word = this.replace(word, /(?:[иы]в(?:ши(?:сь)?)?)$/);\n    word = this.replace(word, /(?:а(?:в(?:ши(?:сь)?)?))$/, 'а');\n    word = this.replace(word, /(?:я(?:в(?:ши(?:сь)?)?))$/, 'я');\n    if (srcWord === word) {\n      word = this.replace(word, /с[яьи]$/);\n      srcWord = word;\n      word = this.replace(\n        word,\n        /(?:[аеєуюя]|еє|ем|єє|ий|их|іх|ів|ій|ім|їй|ім|им|ими|іми|йми|ої|ою|ова|ове|ого|ому)$/\n      );\n      if (srcWord !== word) {\n        word = this.replace(word, /(?:[аіу]|ій|ий|им|ім|их|йми|ого|ому|ою)$/);\n      } else {\n        srcWord = word;\n        word = this.replace(\n          word,\n          /(?:[еєую]|ав|али|ати|вши|ив|ити|ме|сь|ся|ши|учи|яти|ячи|ать|ять)$/g\n        );\n        if (srcWord === word) {\n          word = this.replace(\n            word,\n            /(?:[аеєіїийоуыьюя]|ам|ах|ами|ев|еві|еи|ей|ем|ею|єм|єю|ів|їв|ий|ием|ию|ия|иям|иях|ов|ові|ой|ом|ою|ью|ья|ям|ями|ях)$/g\n          );\n        }\n      }\n    }\n    return word;\n  }\n\n  step2(word) {\n    return this.replace(word, /и$/);\n  }\n\n  step3(word) {\n    if (\n      /[^аеиоуюяіїє][аеиоуюяіїє]+[^аеиоуюяіїє]+[аеиоуюяіїє].*oсть/g.exec(word)\n    ) {\n      word = this.replace(word, /ость$/);\n    }\n    return word;\n  }\n\n  step4(word) {\n    const originalWord = word;\n    word = this.replace(originalWord, /ь$/);\n    if (originalWord === word) {\n      word = this.replace(word, /ейше$/);\n      word = this.replace(word, /нн$/, 'н');\n    }\n    return word;\n  }\n\n  innerStem() {\n    let word = this.getCurrent();\n    const matchVowel = /[аеиоуюяіїє]/.exec(word);\n    if (!matchVowel) {\n      this.setCurrent(word);\n      return;\n    }\n    if (matchVowel.index !== undefined) {\n      const start = word.slice(0, matchVowel.index + 1);\n      word = word.slice(matchVowel.index + 1);\n      if (word === '') {\n        this.setCurrent(start);\n        return;\n      }\n      word = this.step1(word);\n      word = this.step2(word);\n      word = this.step3(word);\n      word = this.step4(word);\n      this.setCurrent(`${start}${word}`);\n      return;\n    }\n    this.setCurrent(word);\n    this.setCurrent(`${word.start}${word.str}`);\n  }\n}\n\nmodule.exports = StemmerUk;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}