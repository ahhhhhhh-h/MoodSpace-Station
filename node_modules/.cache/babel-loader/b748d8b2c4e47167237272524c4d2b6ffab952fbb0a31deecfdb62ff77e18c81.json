{"ast":null,"code":"/*\n * Copyright (c) AXA Group Operations Spain S.A.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nconst SentimentAnalyzer = require('./sentiment-analyzer');\n\n/**\n * Class for the sentiment anlysis manager, able to manage\n * several different languages at the same time.\n */\nclass SentimentManager {\n  /**\n   * Constructor of the class.\n   */\n  constructor(settings) {\n    this.settings = settings || {};\n    this.languages = {};\n    this.analyzer = new SentimentAnalyzer();\n  }\n  addLanguage() {\n    // do nothing\n  }\n  translate(sentiment) {\n    let vote;\n    if (sentiment.score > 0) {\n      vote = 'positive';\n    } else if (sentiment.score < 0) {\n      vote = 'negative';\n    } else {\n      vote = 'neutral';\n    }\n    return {\n      score: sentiment.score,\n      comparative: sentiment.average,\n      vote,\n      numWords: sentiment.numWords,\n      numHits: sentiment.numHits,\n      type: sentiment.type,\n      language: sentiment.locale\n    };\n  }\n\n  /**\n   * Process a phrase of a given locale, calculating the sentiment analysis.\n   * @param {String} locale Locale of the phrase.\n   * @param {String} phrase Phrase to calculate the sentiment.\n   * @returns {Promise.Object} Promise sentiment analysis of the phrase.\n   */\n  async process(locale, phrase) {\n    const sentiment = await this.analyzer.getSentiment(phrase, locale, this.settings);\n    return this.translate(sentiment);\n  }\n}\nmodule.exports = SentimentManager;","map":{"version":3,"names":["SentimentAnalyzer","require","SentimentManager","constructor","settings","languages","analyzer","addLanguage","translate","sentiment","vote","score","comparative","average","numWords","numHits","type","language","locale","process","phrase","getSentiment","module","exports"],"sources":["/Users/zyq/Desktop/大二下/暑期实习/moonshot project/node_modules/node-nlp/src/sentiment/sentiment-manager.js"],"sourcesContent":["/*\n * Copyright (c) AXA Group Operations Spain S.A.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nconst SentimentAnalyzer = require('./sentiment-analyzer');\n\n/**\n * Class for the sentiment anlysis manager, able to manage\n * several different languages at the same time.\n */\nclass SentimentManager {\n  /**\n   * Constructor of the class.\n   */\n  constructor(settings) {\n    this.settings = settings || {};\n    this.languages = {};\n    this.analyzer = new SentimentAnalyzer();\n  }\n\n  addLanguage() {\n    // do nothing\n  }\n\n  translate(sentiment) {\n    let vote;\n    if (sentiment.score > 0) {\n      vote = 'positive';\n    } else if (sentiment.score < 0) {\n      vote = 'negative';\n    } else {\n      vote = 'neutral';\n    }\n    return {\n      score: sentiment.score,\n      comparative: sentiment.average,\n      vote,\n      numWords: sentiment.numWords,\n      numHits: sentiment.numHits,\n      type: sentiment.type,\n      language: sentiment.locale,\n    };\n  }\n\n  /**\n   * Process a phrase of a given locale, calculating the sentiment analysis.\n   * @param {String} locale Locale of the phrase.\n   * @param {String} phrase Phrase to calculate the sentiment.\n   * @returns {Promise.Object} Promise sentiment analysis of the phrase.\n   */\n  async process(locale, phrase) {\n    const sentiment = await this.analyzer.getSentiment(\n      phrase,\n      locale,\n      this.settings\n    );\n    return this.translate(sentiment);\n  }\n}\n\nmodule.exports = SentimentManager;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,iBAAiB,GAAGC,OAAO,CAAC,sBAAsB,CAAC;;AAEzD;AACA;AACA;AACA;AACA,MAAMC,gBAAgB,CAAC;EACrB;AACF;AACA;EACEC,WAAWA,CAACC,QAAQ,EAAE;IACpB,IAAI,CAACA,QAAQ,GAAGA,QAAQ,IAAI,CAAC,CAAC;IAC9B,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC;IACnB,IAAI,CAACC,QAAQ,GAAG,IAAIN,iBAAiB,CAAC,CAAC;EACzC;EAEAO,WAAWA,CAAA,EAAG;IACZ;EAAA;EAGFC,SAASA,CAACC,SAAS,EAAE;IACnB,IAAIC,IAAI;IACR,IAAID,SAAS,CAACE,KAAK,GAAG,CAAC,EAAE;MACvBD,IAAI,GAAG,UAAU;IACnB,CAAC,MAAM,IAAID,SAAS,CAACE,KAAK,GAAG,CAAC,EAAE;MAC9BD,IAAI,GAAG,UAAU;IACnB,CAAC,MAAM;MACLA,IAAI,GAAG,SAAS;IAClB;IACA,OAAO;MACLC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,WAAW,EAAEH,SAAS,CAACI,OAAO;MAC9BH,IAAI;MACJI,QAAQ,EAAEL,SAAS,CAACK,QAAQ;MAC5BC,OAAO,EAAEN,SAAS,CAACM,OAAO;MAC1BC,IAAI,EAAEP,SAAS,CAACO,IAAI;MACpBC,QAAQ,EAAER,SAAS,CAACS;IACtB,CAAC;EACH;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,MAAMC,OAAOA,CAACD,MAAM,EAAEE,MAAM,EAAE;IAC5B,MAAMX,SAAS,GAAG,MAAM,IAAI,CAACH,QAAQ,CAACe,YAAY,CAChDD,MAAM,EACNF,MAAM,EACN,IAAI,CAACd,QACP,CAAC;IACD,OAAO,IAAI,CAACI,SAAS,CAACC,SAAS,CAAC;EAClC;AACF;AAEAa,MAAM,CAACC,OAAO,GAAGrB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}