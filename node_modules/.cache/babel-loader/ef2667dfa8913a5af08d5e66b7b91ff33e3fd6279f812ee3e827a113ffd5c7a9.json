{"ast":null,"code":"/*\n * Copyright (c) AXA Group Operations Spain S.A.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Abstract class for a conversation context of a chatbot.\n * The conversation context is the responsible of storing and retrieving\n * the context scope variables based on the current conversation.\n * The getConversationContext receive the session of the chatbot, and must return\n * a promise with the context in the resolve.\n */\nclass ConversationContext {\n  /**\n   * Constructor of the class.\n   * @param {Object} settings Settings for the instance.\n   */\n  constructor(settings) {\n    this.settings = settings || {};\n  }\n\n  /**\n   * Given a session instance of a chatbot, return the conversation identifier.\n   * @param {Object} session Session instance of a message of chatbot.\n   * @returns {String} Identifier of the conversation.\n   */\n  getConversationId(session) {\n    if (session && session.message && session.message.address && session.message.address.conversation) {\n      return session.message.address.conversation.id;\n    }\n    // eslint-disable-next-line no-underscore-dangle\n    if (session && session._activity && session._activity.conversation) {\n      // eslint-disable-next-line no-underscore-dangle\n      return session._activity.conversation.id;\n    }\n    return undefined;\n  }\n\n  /**\n   * Given a session, return a promise to resolve the conversation context.\n   */\n  getConversationContext() {\n    throw new Error('This method must be implemented by child');\n  }\n\n  /**\n   * Given a session, return a promise to set the conversation context.\n   */\n  setConversationContext() {\n    throw new Error('This method must be implemented by child');\n  }\n}\nmodule.exports = ConversationContext;","map":{"version":3,"names":["ConversationContext","constructor","settings","getConversationId","session","message","address","conversation","id","_activity","undefined","getConversationContext","Error","setConversationContext","module","exports"],"sources":["/Users/zyq/Desktop/大二下/暑期实习/moonshot project/node_modules/node-nlp/src/recognizer/conversation-context.js"],"sourcesContent":["/*\n * Copyright (c) AXA Group Operations Spain S.A.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Abstract class for a conversation context of a chatbot.\n * The conversation context is the responsible of storing and retrieving\n * the context scope variables based on the current conversation.\n * The getConversationContext receive the session of the chatbot, and must return\n * a promise with the context in the resolve.\n */\nclass ConversationContext {\n  /**\n   * Constructor of the class.\n   * @param {Object} settings Settings for the instance.\n   */\n  constructor(settings) {\n    this.settings = settings || {};\n  }\n\n  /**\n   * Given a session instance of a chatbot, return the conversation identifier.\n   * @param {Object} session Session instance of a message of chatbot.\n   * @returns {String} Identifier of the conversation.\n   */\n  getConversationId(session) {\n    if (\n      session &&\n      session.message &&\n      session.message.address &&\n      session.message.address.conversation\n    ) {\n      return session.message.address.conversation.id;\n    }\n    // eslint-disable-next-line no-underscore-dangle\n    if (session && session._activity && session._activity.conversation) {\n      // eslint-disable-next-line no-underscore-dangle\n      return session._activity.conversation.id;\n    }\n    return undefined;\n  }\n\n  /**\n   * Given a session, return a promise to resolve the conversation context.\n   */\n  getConversationContext() {\n    throw new Error('This method must be implemented by child');\n  }\n\n  /**\n   * Given a session, return a promise to set the conversation context.\n   */\n  setConversationContext() {\n    throw new Error('This method must be implemented by child');\n  }\n}\n\nmodule.exports = ConversationContext;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,mBAAmB,CAAC;EACxB;AACF;AACA;AACA;EACEC,WAAWA,CAACC,QAAQ,EAAE;IACpB,IAAI,CAACA,QAAQ,GAAGA,QAAQ,IAAI,CAAC,CAAC;EAChC;;EAEA;AACF;AACA;AACA;AACA;EACEC,iBAAiBA,CAACC,OAAO,EAAE;IACzB,IACEA,OAAO,IACPA,OAAO,CAACC,OAAO,IACfD,OAAO,CAACC,OAAO,CAACC,OAAO,IACvBF,OAAO,CAACC,OAAO,CAACC,OAAO,CAACC,YAAY,EACpC;MACA,OAAOH,OAAO,CAACC,OAAO,CAACC,OAAO,CAACC,YAAY,CAACC,EAAE;IAChD;IACA;IACA,IAAIJ,OAAO,IAAIA,OAAO,CAACK,SAAS,IAAIL,OAAO,CAACK,SAAS,CAACF,YAAY,EAAE;MAClE;MACA,OAAOH,OAAO,CAACK,SAAS,CAACF,YAAY,CAACC,EAAE;IAC1C;IACA,OAAOE,SAAS;EAClB;;EAEA;AACF;AACA;EACEC,sBAAsBA,CAAA,EAAG;IACvB,MAAM,IAAIC,KAAK,CAAC,0CAA0C,CAAC;EAC7D;;EAEA;AACF;AACA;EACEC,sBAAsBA,CAAA,EAAG;IACvB,MAAM,IAAID,KAAK,CAAC,0CAA0C,CAAC;EAC7D;AACF;AAEAE,MAAM,CAACC,OAAO,GAAGf,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}