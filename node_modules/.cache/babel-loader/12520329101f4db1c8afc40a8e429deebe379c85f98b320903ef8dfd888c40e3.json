{"ast":null,"code":"var _EmotionAnalyzer;\nimport Sentiment from 'sentiment';\nexport class EmotionAnalyzer {\n  constructor() {\n    this.analyzer = void 0;\n    this.lastAnalysis = null;\n    this.analysisHistory = [];\n    this.analyzer = new Sentiment();\n\n    // Ê∑ªÂä†‰∏≠ÊñáÊÉÖÊÑüËØçÂÖ∏\n    this.analyzer.registerLanguage('zh', {\n      // ÁßØÊûÅÊÉÖÊÑüËØç\n      labels: {\n        'ÂºÄÂøÉ': 2,\n        'Âø´‰πê': 2,\n        'È´òÂÖ¥': 2,\n        'ÂñúÊ¨¢': 2,\n        'Áà±': 2,\n        'Ê£í': 2,\n        'Â•Ω': 1,\n        '‰ºòÁßÄ': 2,\n        'ÊÑüÊÅ©': 2,\n        'Â∏åÊúõ': 1,\n        'Âä†Ê≤π': 2,\n        'ÁæéÂ•Ω': 2,\n        'Ê∏©Êöñ': 2,\n        'ÂéâÂÆ≥': 2,\n        'Âá∫Ëâ≤': 2,\n        'Á≤æÂΩ©': 2,\n        'ÂÆåÁæé': 2,\n        'ÊàêÂäü': 2,\n        'Âπ∏Á¶è': 2,\n        'ÂèØÁà±': 1,\n        'Ëµû': 1,\n        'Â∏Ö': 1,\n        'ÈÖ∑': 1,\n        'Áâõ': 1,\n        'Âº∫': 1\n      },\n      // Ê∂àÊûÅÊÉÖÊÑüËØç\n      negators: {\n        'ÈöæËøá': -2,\n        '‰º§ÂøÉ': -2,\n        'ÁóõËã¶': -2,\n        'ËÆ®Âéå': -2,\n        'ÁÉ¶': -2,\n        'Á≥üÁ≥ï': -2,\n        'Â§±Êúõ': -2,\n        'ÁÑ¶Ëôë': -2,\n        'ÁîüÊ∞î': -2,\n        'Áñ≤ÊÉ´': -1,\n        'Â≠§Áã¨': -2,\n        'ÂéãÂäõ': -1,\n        'ÊãÖÂøÉ': -1,\n        'ÂÆ≥ÊÄï': -2,\n        'ÊÅêÊÉß': -2,\n        'ÊÇ≤‰º§': -2,\n        'ÁªùÊúõ': -2,\n        'Â¥©Ê∫É': -2,\n        'Áóõ': -1,\n        'Á¥Ø': -1,\n        'ÊÄï': -1,\n        'ÊÉ®': -2,\n        'Â∑Æ': -1,\n        'Âº±': -1\n      }\n    });\n  }\n  static getInstance() {\n    if (!EmotionAnalyzer.instance) {\n      EmotionAnalyzer.instance = new EmotionAnalyzer();\n    }\n    return EmotionAnalyzer.instance;\n  }\n  adjustScoreBasedOnContext(text, score) {\n    let adjustedScore = score;\n\n    // 1. Ê£ÄÊü•Ë°®ÊÉÖÁ¨¶Âè∑\n    const positiveEmojis = ['üòä', 'üòÑ', 'üòÉ', 'üòÄ', 'üòÅ', 'üòÜ', 'üòÖ', 'üòÇ', 'ü§£', '‚ù§Ô∏è', 'ü•∞', '‚ú®'];\n    const negativeEmojis = ['üò¢', 'üò≠', 'üòû', 'üòî', 'üòü', 'üòï', 'üò£', 'üòñ', 'üò´', 'üò©', 'üò±', 'üò®'];\n    positiveEmojis.forEach(emoji => {\n      if (text.includes(emoji)) adjustedScore += 2;\n    });\n    negativeEmojis.forEach(emoji => {\n      if (text.includes(emoji)) adjustedScore -= 2;\n    });\n\n    // 2. Ê£ÄÊü•Ê†áÁÇπÁ¨¶Âè∑\n    const exclamationCount = (text.match(/!|ÔºÅ/g) || []).length;\n    if (adjustedScore > 0) {\n      adjustedScore += exclamationCount; // Ê≠£Èù¢ÊÉÖÊÑüÁöÑÊÑüÂèπÂè∑Âä†Âº∫Ê≠£Èù¢ÊïàÊûú\n    } else if (adjustedScore < 0) {\n      adjustedScore -= exclamationCount; // Ë¥üÈù¢ÊÉÖÊÑüÁöÑÊÑüÂèπÂè∑Âä†Âº∫Ë¥üÈù¢ÊïàÊûú\n    }\n\n    // 3. Ê£ÄÊü•Á®ãÂ∫¶ËØç\n    const degreeWords = {\n      'ÈùûÂ∏∏': 2,\n      'Âæà': 1.5,\n      'ÁâπÂà´': 1.5,\n      'Áúü': 1.5,\n      'Â§™': 1.5,\n      'Ë∂Ö': 1.5,\n      'Â•Ω': 1\n    };\n    Object.entries(degreeWords).forEach(([word, value]) => {\n      if (text.includes(word)) {\n        adjustedScore = adjustedScore > 0 ? adjustedScore + value : adjustedScore - value;\n      }\n    });\n\n    // 4. ËÄÉËôëÂéÜÂè≤ÂàÜÊûêÁªìÊûúÔºàÊÉÖÊÑüËøûÁª≠ÊÄßÔºâ\n    if (this.lastAnalysis && this.lastAnalysis.result === 'positive') {\n      adjustedScore += 0.5;\n    } else if (this.lastAnalysis && this.lastAnalysis.result === 'negative') {\n      adjustedScore -= 0.5;\n    }\n    return adjustedScore;\n  }\n  analyzeEmotion(text) {\n    try {\n      // 1. Ëé∑ÂèñÂü∫Á°ÄÂàÜÊï∞\n      const result = this.analyzer.analyze(text);\n      let score = result.score;\n\n      // 2. Ê†πÊçÆ‰∏ä‰∏ãÊñáË∞ÉÊï¥ÂàÜÊï∞\n      score = this.adjustScoreBasedOnContext(text, score);\n\n      // 3. Á°ÆÂÆöÊÉÖÊÑüÁ±ªÂûã\n      let emotionType;\n      if (score > 0) {\n        emotionType = 'positive';\n      } else if (score < 0) {\n        emotionType = 'negative';\n      } else {\n        // ÂØπ‰∫é‰∏≠ÊÄßÊÉÖÊÑüÔºåÊàë‰ª¨Ê†πÊçÆÊõ¥Â§öÁâπÂæÅÊù•Âà§Êñ≠\n        const hasPositiveWords = result.positive.length > 0;\n        const hasNegativeWords = result.negative.length > 0;\n        if (hasPositiveWords && !hasNegativeWords) {\n          emotionType = 'positive';\n        } else if (hasNegativeWords && !hasPositiveWords) {\n          emotionType = 'negative';\n        } else {\n          // Â¶ÇÊûúÂêåÊó∂Â≠òÂú®ÁßØÊûÅËØçÂíåÊ∂àÊûÅËØçÔºåÊ†πÊçÆËØçÁöÑÊï∞ÈáèÂíåÊùÉÈáçÊù•Âà§Êñ≠\n          const positiveWeight = result.positive.reduce((sum, word) => {\n            var _result$calculation$f;\n            return sum + (((_result$calculation$f = result.calculation.find(c => c[word])) === null || _result$calculation$f === void 0 ? void 0 : _result$calculation$f[word]) || 0);\n          }, 0);\n          const negativeWeight = result.negative.reduce((sum, word) => {\n            var _result$calculation$f2;\n            return sum + (((_result$calculation$f2 = result.calculation.find(c => c[word])) === null || _result$calculation$f2 === void 0 ? void 0 : _result$calculation$f2[word]) || 0);\n          }, 0);\n          if (positiveWeight > Math.abs(negativeWeight)) {\n            emotionType = 'positive';\n          } else if (Math.abs(negativeWeight) > positiveWeight) {\n            emotionType = 'negative';\n          } else {\n            // Â¶ÇÊûúÊùÉÈáçÁõ∏Á≠âÔºåËøîÂõû‰∏≠ÊÄß\n            emotionType = 'received';\n          }\n        }\n      }\n\n      // 4. Êõ¥Êñ∞ÂàÜÊûêÂéÜÂè≤\n      this.lastAnalysis = {\n        text,\n        result: emotionType\n      };\n      this.analysisHistory.push({\n        text,\n        result: emotionType\n      });\n      if (this.analysisHistory.length > 10) {\n        this.analysisHistory.shift();\n      }\n      return emotionType;\n    } catch (error) {\n      console.error('ÊÉÖÊÑüÂàÜÊûêÂá∫Èîô:', error);\n      // Â¶ÇÊûúÂàÜÊûêÂá∫ÈîôÔºåÊ†πÊçÆÂéÜÂè≤ËÆ∞ÂΩïËøîÂõû‰∏Ä‰∏™ÂèØËÉΩÁöÑÁªìÊûú\n      if (this.lastAnalysis) {\n        return this.lastAnalysis.result;\n      }\n      // Â¶ÇÊûúÊ≤°ÊúâÂéÜÂè≤ËÆ∞ÂΩïÔºåËøîÂõû‰∏≠ÊÄß\n      return 'received';\n    }\n  }\n\n  // Áî®‰∫éË∞ÉËØïÂíå‰ºòÂåñÁöÑÊñπÊ≥ï\n  getAnalysisStats() {\n    return {\n      historyLength: this.analysisHistory.length,\n      positiveCount: this.analysisHistory.filter(item => item.result === 'positive').length,\n      negativeCount: this.analysisHistory.filter(item => item.result === 'negative').length,\n      lastAnalysis: this.lastAnalysis\n    };\n  }\n}\n_EmotionAnalyzer = EmotionAnalyzer;\nEmotionAnalyzer.instance = void 0;","map":{"version":3,"names":["Sentiment","EmotionAnalyzer","constructor","analyzer","lastAnalysis","analysisHistory","registerLanguage","labels","negators","getInstance","instance","adjustScoreBasedOnContext","text","score","adjustedScore","positiveEmojis","negativeEmojis","forEach","emoji","includes","exclamationCount","match","length","degreeWords","Object","entries","word","value","result","analyzeEmotion","analyze","emotionType","hasPositiveWords","positive","hasNegativeWords","negative","positiveWeight","reduce","sum","_result$calculation$f","calculation","find","c","negativeWeight","_result$calculation$f2","Math","abs","push","shift","error","console","getAnalysisStats","historyLength","positiveCount","filter","item","negativeCount","_EmotionAnalyzer"],"sources":["/Users/zyq/Desktop/Â§ß‰∫å‰∏ã/ÊöëÊúüÂÆû‰π†/moonshot project/src/utils/EmotionAnalyzer.ts"],"sourcesContent":["import Sentiment from 'sentiment';\nimport { EmotionType } from '../types';\n\nexport class EmotionAnalyzer {\n  private analyzer: Sentiment;\n  private static instance: EmotionAnalyzer;\n  private lastAnalysis: { text: string; result: EmotionType } | null = null;\n  private analysisHistory: Array<{ text: string; result: EmotionType }> = [];\n\n  private constructor() {\n    this.analyzer = new Sentiment();\n    \n    // Ê∑ªÂä†‰∏≠ÊñáÊÉÖÊÑüËØçÂÖ∏\n    this.analyzer.registerLanguage('zh', {\n      // ÁßØÊûÅÊÉÖÊÑüËØç\n      labels: {\n        'ÂºÄÂøÉ': 2,\n        'Âø´‰πê': 2,\n        'È´òÂÖ¥': 2,\n        'ÂñúÊ¨¢': 2,\n        'Áà±': 2,\n        'Ê£í': 2,\n        'Â•Ω': 1,\n        '‰ºòÁßÄ': 2,\n        'ÊÑüÊÅ©': 2,\n        'Â∏åÊúõ': 1,\n        'Âä†Ê≤π': 2,\n        'ÁæéÂ•Ω': 2,\n        'Ê∏©Êöñ': 2,\n        'ÂéâÂÆ≥': 2,\n        'Âá∫Ëâ≤': 2,\n        'Á≤æÂΩ©': 2,\n        'ÂÆåÁæé': 2,\n        'ÊàêÂäü': 2,\n        'Âπ∏Á¶è': 2,\n        'ÂèØÁà±': 1,\n        'Ëµû': 1,\n        'Â∏Ö': 1,\n        'ÈÖ∑': 1,\n        'Áâõ': 1,\n        'Âº∫': 1\n      },\n      // Ê∂àÊûÅÊÉÖÊÑüËØç\n      negators: {\n        'ÈöæËøá': -2,\n        '‰º§ÂøÉ': -2,\n        'ÁóõËã¶': -2,\n        'ËÆ®Âéå': -2,\n        'ÁÉ¶': -2,\n        'Á≥üÁ≥ï': -2,\n        'Â§±Êúõ': -2,\n        'ÁÑ¶Ëôë': -2,\n        'ÁîüÊ∞î': -2,\n        'Áñ≤ÊÉ´': -1,\n        'Â≠§Áã¨': -2,\n        'ÂéãÂäõ': -1,\n        'ÊãÖÂøÉ': -1,\n        'ÂÆ≥ÊÄï': -2,\n        'ÊÅêÊÉß': -2,\n        'ÊÇ≤‰º§': -2,\n        'ÁªùÊúõ': -2,\n        'Â¥©Ê∫É': -2,\n        'Áóõ': -1,\n        'Á¥Ø': -1,\n        'ÊÄï': -1,\n        'ÊÉ®': -2,\n        'Â∑Æ': -1,\n        'Âº±': -1\n      }\n    });\n  }\n\n  public static getInstance(): EmotionAnalyzer {\n    if (!EmotionAnalyzer.instance) {\n      EmotionAnalyzer.instance = new EmotionAnalyzer();\n    }\n    return EmotionAnalyzer.instance;\n  }\n\n  private adjustScoreBasedOnContext(text: string, score: number): number {\n    let adjustedScore = score;\n\n    // 1. Ê£ÄÊü•Ë°®ÊÉÖÁ¨¶Âè∑\n    const positiveEmojis = ['üòä', 'üòÑ', 'üòÉ', 'üòÄ', 'üòÅ', 'üòÜ', 'üòÖ', 'üòÇ', 'ü§£', '‚ù§Ô∏è', 'ü•∞', '‚ú®'];\n    const negativeEmojis = ['üò¢', 'üò≠', 'üòû', 'üòî', 'üòü', 'üòï', 'üò£', 'üòñ', 'üò´', 'üò©', 'üò±', 'üò®'];\n\n    positiveEmojis.forEach(emoji => {\n      if (text.includes(emoji)) adjustedScore += 2;\n    });\n    negativeEmojis.forEach(emoji => {\n      if (text.includes(emoji)) adjustedScore -= 2;\n    });\n\n    // 2. Ê£ÄÊü•Ê†áÁÇπÁ¨¶Âè∑\n    const exclamationCount = (text.match(/!|ÔºÅ/g) || []).length;\n    if (adjustedScore > 0) {\n      adjustedScore += exclamationCount; // Ê≠£Èù¢ÊÉÖÊÑüÁöÑÊÑüÂèπÂè∑Âä†Âº∫Ê≠£Èù¢ÊïàÊûú\n    } else if (adjustedScore < 0) {\n      adjustedScore -= exclamationCount; // Ë¥üÈù¢ÊÉÖÊÑüÁöÑÊÑüÂèπÂè∑Âä†Âº∫Ë¥üÈù¢ÊïàÊûú\n    }\n\n    // 3. Ê£ÄÊü•Á®ãÂ∫¶ËØç\n    const degreeWords = {\n      'ÈùûÂ∏∏': 2,\n      'Âæà': 1.5,\n      'ÁâπÂà´': 1.5,\n      'Áúü': 1.5,\n      'Â§™': 1.5,\n      'Ë∂Ö': 1.5,\n      'Â•Ω': 1\n    };\n\n    Object.entries(degreeWords).forEach(([word, value]) => {\n      if (text.includes(word)) {\n        adjustedScore = adjustedScore > 0 ? adjustedScore + value : adjustedScore - value;\n      }\n    });\n\n    // 4. ËÄÉËôëÂéÜÂè≤ÂàÜÊûêÁªìÊûúÔºàÊÉÖÊÑüËøûÁª≠ÊÄßÔºâ\n    if (this.lastAnalysis && this.lastAnalysis.result === 'positive') {\n      adjustedScore += 0.5;\n    } else if (this.lastAnalysis && this.lastAnalysis.result === 'negative') {\n      adjustedScore -= 0.5;\n    }\n\n    return adjustedScore;\n  }\n\n  public analyzeEmotion(text: string): EmotionType {\n    try {\n      // 1. Ëé∑ÂèñÂü∫Á°ÄÂàÜÊï∞\n      const result = this.analyzer.analyze(text);\n      let score = result.score;\n      \n      // 2. Ê†πÊçÆ‰∏ä‰∏ãÊñáË∞ÉÊï¥ÂàÜÊï∞\n      score = this.adjustScoreBasedOnContext(text, score);\n      \n      // 3. Á°ÆÂÆöÊÉÖÊÑüÁ±ªÂûã\n      let emotionType: EmotionType;\n      if (score > 0) {\n        emotionType = 'positive';\n      } else if (score < 0) {\n        emotionType = 'negative';\n      } else {\n        // ÂØπ‰∫é‰∏≠ÊÄßÊÉÖÊÑüÔºåÊàë‰ª¨Ê†πÊçÆÊõ¥Â§öÁâπÂæÅÊù•Âà§Êñ≠\n        const hasPositiveWords = result.positive.length > 0;\n        const hasNegativeWords = result.negative.length > 0;\n        \n        if (hasPositiveWords && !hasNegativeWords) {\n          emotionType = 'positive';\n        } else if (hasNegativeWords && !hasPositiveWords) {\n          emotionType = 'negative';\n        } else {\n          // Â¶ÇÊûúÂêåÊó∂Â≠òÂú®ÁßØÊûÅËØçÂíåÊ∂àÊûÅËØçÔºåÊ†πÊçÆËØçÁöÑÊï∞ÈáèÂíåÊùÉÈáçÊù•Âà§Êñ≠\n          const positiveWeight = result.positive.reduce((sum, word) => sum + (result.calculation.find(c => c[word])?.[word] || 0), 0);\n          const negativeWeight = result.negative.reduce((sum, word) => sum + (result.calculation.find(c => c[word])?.[word] || 0), 0);\n          \n          if (positiveWeight > Math.abs(negativeWeight)) {\n            emotionType = 'positive';\n          } else if (Math.abs(negativeWeight) > positiveWeight) {\n            emotionType = 'negative';\n          } else {\n            // Â¶ÇÊûúÊùÉÈáçÁõ∏Á≠âÔºåËøîÂõû‰∏≠ÊÄß\n            emotionType = 'received';\n          }\n        }\n      }\n\n      // 4. Êõ¥Êñ∞ÂàÜÊûêÂéÜÂè≤\n      this.lastAnalysis = { text, result: emotionType };\n      this.analysisHistory.push({ text, result: emotionType });\n      if (this.analysisHistory.length > 10) {\n        this.analysisHistory.shift();\n      }\n\n      return emotionType;\n    } catch (error) {\n      console.error('ÊÉÖÊÑüÂàÜÊûêÂá∫Èîô:', error);\n      // Â¶ÇÊûúÂàÜÊûêÂá∫ÈîôÔºåÊ†πÊçÆÂéÜÂè≤ËÆ∞ÂΩïËøîÂõû‰∏Ä‰∏™ÂèØËÉΩÁöÑÁªìÊûú\n      if (this.lastAnalysis) {\n        return this.lastAnalysis.result;\n      }\n      // Â¶ÇÊûúÊ≤°ÊúâÂéÜÂè≤ËÆ∞ÂΩïÔºåËøîÂõû‰∏≠ÊÄß\n      return 'received';\n    }\n  }\n\n  // Áî®‰∫éË∞ÉËØïÂíå‰ºòÂåñÁöÑÊñπÊ≥ï\n  public getAnalysisStats() {\n    return {\n      historyLength: this.analysisHistory.length,\n      positiveCount: this.analysisHistory.filter(item => item.result === 'positive').length,\n      negativeCount: this.analysisHistory.filter(item => item.result === 'negative').length,\n      lastAnalysis: this.lastAnalysis\n    };\n  }\n} "],"mappings":";AAAA,OAAOA,SAAS,MAAM,WAAW;AAGjC,OAAO,MAAMC,eAAe,CAAC;EAMnBC,WAAWA,CAAA,EAAG;IAAA,KALdC,QAAQ;IAAA,KAERC,YAAY,GAAiD,IAAI;IAAA,KACjEC,eAAe,GAAiD,EAAE;IAGxE,IAAI,CAACF,QAAQ,GAAG,IAAIH,SAAS,CAAC,CAAC;;IAE/B;IACA,IAAI,CAACG,QAAQ,CAACG,gBAAgB,CAAC,IAAI,EAAE;MACnC;MACAC,MAAM,EAAE;QACN,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,GAAG,EAAE,CAAC;QACN,GAAG,EAAE,CAAC;QACN,GAAG,EAAE,CAAC;QACN,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,IAAI,EAAE,CAAC;QACP,GAAG,EAAE,CAAC;QACN,GAAG,EAAE,CAAC;QACN,GAAG,EAAE,CAAC;QACN,GAAG,EAAE,CAAC;QACN,GAAG,EAAE;MACP,CAAC;MACD;MACAC,QAAQ,EAAE;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,GAAG,EAAE,CAAC,CAAC;QACP,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,IAAI,EAAE,CAAC,CAAC;QACR,GAAG,EAAE,CAAC,CAAC;QACP,GAAG,EAAE,CAAC,CAAC;QACP,GAAG,EAAE,CAAC,CAAC;QACP,GAAG,EAAE,CAAC,CAAC;QACP,GAAG,EAAE,CAAC,CAAC;QACP,GAAG,EAAE,CAAC;MACR;IACF,CAAC,CAAC;EACJ;EAEA,OAAcC,WAAWA,CAAA,EAAoB;IAC3C,IAAI,CAACR,eAAe,CAACS,QAAQ,EAAE;MAC7BT,eAAe,CAACS,QAAQ,GAAG,IAAIT,eAAe,CAAC,CAAC;IAClD;IACA,OAAOA,eAAe,CAACS,QAAQ;EACjC;EAEQC,yBAAyBA,CAACC,IAAY,EAAEC,KAAa,EAAU;IACrE,IAAIC,aAAa,GAAGD,KAAK;;IAEzB;IACA,MAAME,cAAc,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC;IAC9F,MAAMC,cAAc,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;IAE/FD,cAAc,CAACE,OAAO,CAACC,KAAK,IAAI;MAC9B,IAAIN,IAAI,CAACO,QAAQ,CAACD,KAAK,CAAC,EAAEJ,aAAa,IAAI,CAAC;IAC9C,CAAC,CAAC;IACFE,cAAc,CAACC,OAAO,CAACC,KAAK,IAAI;MAC9B,IAAIN,IAAI,CAACO,QAAQ,CAACD,KAAK,CAAC,EAAEJ,aAAa,IAAI,CAAC;IAC9C,CAAC,CAAC;;IAEF;IACA,MAAMM,gBAAgB,GAAG,CAACR,IAAI,CAACS,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,EAAEC,MAAM;IAC1D,IAAIR,aAAa,GAAG,CAAC,EAAE;MACrBA,aAAa,IAAIM,gBAAgB,CAAC,CAAC;IACrC,CAAC,MAAM,IAAIN,aAAa,GAAG,CAAC,EAAE;MAC5BA,aAAa,IAAIM,gBAAgB,CAAC,CAAC;IACrC;;IAEA;IACA,MAAMG,WAAW,GAAG;MAClB,IAAI,EAAE,CAAC;MACP,GAAG,EAAE,GAAG;MACR,IAAI,EAAE,GAAG;MACT,GAAG,EAAE,GAAG;MACR,GAAG,EAAE,GAAG;MACR,GAAG,EAAE,GAAG;MACR,GAAG,EAAE;IACP,CAAC;IAEDC,MAAM,CAACC,OAAO,CAACF,WAAW,CAAC,CAACN,OAAO,CAAC,CAAC,CAACS,IAAI,EAAEC,KAAK,CAAC,KAAK;MACrD,IAAIf,IAAI,CAACO,QAAQ,CAACO,IAAI,CAAC,EAAE;QACvBZ,aAAa,GAAGA,aAAa,GAAG,CAAC,GAAGA,aAAa,GAAGa,KAAK,GAAGb,aAAa,GAAGa,KAAK;MACnF;IACF,CAAC,CAAC;;IAEF;IACA,IAAI,IAAI,CAACvB,YAAY,IAAI,IAAI,CAACA,YAAY,CAACwB,MAAM,KAAK,UAAU,EAAE;MAChEd,aAAa,IAAI,GAAG;IACtB,CAAC,MAAM,IAAI,IAAI,CAACV,YAAY,IAAI,IAAI,CAACA,YAAY,CAACwB,MAAM,KAAK,UAAU,EAAE;MACvEd,aAAa,IAAI,GAAG;IACtB;IAEA,OAAOA,aAAa;EACtB;EAEOe,cAAcA,CAACjB,IAAY,EAAe;IAC/C,IAAI;MACF;MACA,MAAMgB,MAAM,GAAG,IAAI,CAACzB,QAAQ,CAAC2B,OAAO,CAAClB,IAAI,CAAC;MAC1C,IAAIC,KAAK,GAAGe,MAAM,CAACf,KAAK;;MAExB;MACAA,KAAK,GAAG,IAAI,CAACF,yBAAyB,CAACC,IAAI,EAAEC,KAAK,CAAC;;MAEnD;MACA,IAAIkB,WAAwB;MAC5B,IAAIlB,KAAK,GAAG,CAAC,EAAE;QACbkB,WAAW,GAAG,UAAU;MAC1B,CAAC,MAAM,IAAIlB,KAAK,GAAG,CAAC,EAAE;QACpBkB,WAAW,GAAG,UAAU;MAC1B,CAAC,MAAM;QACL;QACA,MAAMC,gBAAgB,GAAGJ,MAAM,CAACK,QAAQ,CAACX,MAAM,GAAG,CAAC;QACnD,MAAMY,gBAAgB,GAAGN,MAAM,CAACO,QAAQ,CAACb,MAAM,GAAG,CAAC;QAEnD,IAAIU,gBAAgB,IAAI,CAACE,gBAAgB,EAAE;UACzCH,WAAW,GAAG,UAAU;QAC1B,CAAC,MAAM,IAAIG,gBAAgB,IAAI,CAACF,gBAAgB,EAAE;UAChDD,WAAW,GAAG,UAAU;QAC1B,CAAC,MAAM;UACL;UACA,MAAMK,cAAc,GAAGR,MAAM,CAACK,QAAQ,CAACI,MAAM,CAAC,CAACC,GAAG,EAAEZ,IAAI;YAAA,IAAAa,qBAAA;YAAA,OAAKD,GAAG,IAAI,EAAAC,qBAAA,GAAAX,MAAM,CAACY,WAAW,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAChB,IAAI,CAAC,CAAC,cAAAa,qBAAA,uBAArCA,qBAAA,CAAwCb,IAAI,CAAC,KAAI,CAAC,CAAC;UAAA,GAAE,CAAC,CAAC;UAC3H,MAAMiB,cAAc,GAAGf,MAAM,CAACO,QAAQ,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEZ,IAAI;YAAA,IAAAkB,sBAAA;YAAA,OAAKN,GAAG,IAAI,EAAAM,sBAAA,GAAAhB,MAAM,CAACY,WAAW,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAChB,IAAI,CAAC,CAAC,cAAAkB,sBAAA,uBAArCA,sBAAA,CAAwClB,IAAI,CAAC,KAAI,CAAC,CAAC;UAAA,GAAE,CAAC,CAAC;UAE3H,IAAIU,cAAc,GAAGS,IAAI,CAACC,GAAG,CAACH,cAAc,CAAC,EAAE;YAC7CZ,WAAW,GAAG,UAAU;UAC1B,CAAC,MAAM,IAAIc,IAAI,CAACC,GAAG,CAACH,cAAc,CAAC,GAAGP,cAAc,EAAE;YACpDL,WAAW,GAAG,UAAU;UAC1B,CAAC,MAAM;YACL;YACAA,WAAW,GAAG,UAAU;UAC1B;QACF;MACF;;MAEA;MACA,IAAI,CAAC3B,YAAY,GAAG;QAAEQ,IAAI;QAAEgB,MAAM,EAAEG;MAAY,CAAC;MACjD,IAAI,CAAC1B,eAAe,CAAC0C,IAAI,CAAC;QAAEnC,IAAI;QAAEgB,MAAM,EAAEG;MAAY,CAAC,CAAC;MACxD,IAAI,IAAI,CAAC1B,eAAe,CAACiB,MAAM,GAAG,EAAE,EAAE;QACpC,IAAI,CAACjB,eAAe,CAAC2C,KAAK,CAAC,CAAC;MAC9B;MAEA,OAAOjB,WAAW;IACpB,CAAC,CAAC,OAAOkB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MAC/B;MACA,IAAI,IAAI,CAAC7C,YAAY,EAAE;QACrB,OAAO,IAAI,CAACA,YAAY,CAACwB,MAAM;MACjC;MACA;MACA,OAAO,UAAU;IACnB;EACF;;EAEA;EACOuB,gBAAgBA,CAAA,EAAG;IACxB,OAAO;MACLC,aAAa,EAAE,IAAI,CAAC/C,eAAe,CAACiB,MAAM;MAC1C+B,aAAa,EAAE,IAAI,CAAChD,eAAe,CAACiD,MAAM,CAACC,IAAI,IAAIA,IAAI,CAAC3B,MAAM,KAAK,UAAU,CAAC,CAACN,MAAM;MACrFkC,aAAa,EAAE,IAAI,CAACnD,eAAe,CAACiD,MAAM,CAACC,IAAI,IAAIA,IAAI,CAAC3B,MAAM,KAAK,UAAU,CAAC,CAACN,MAAM;MACrFlB,YAAY,EAAE,IAAI,CAACA;IACrB,CAAC;EACH;AACF;AAACqD,gBAAA,GAjMYxD,eAAe;AAAfA,eAAe,CAEXS,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}