{"ast":null,"code":"var _jsxFileName = \"/Users/zyq/Desktop/\\u5927\\u4E8C\\u4E0B/\\u6691\\u671F\\u5B9E\\u4E60/moonshot project/src/components/Moon.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { moonImage, starIcon, meteorIcon, flower1Icon, flower2Icon, flower3Icon } from '../assets';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\nconst MoonContainer = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n  min-width: 100vw;\n`;\n_c = MoonContainer;\nconst MoonSphere = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background: url(${moonImage}) no-repeat center center;\n  background-size: cover;\n  animation: ${rotate} 60s linear infinite;\n  position: relative;\n  box-shadow: inset -25px -25px 40px rgba(0,0,0,0.3);\n`;\n_c2 = MoonSphere;\nconst CelestialBodyContainer = styled.div`\n  position: absolute;\n  left: ${props => props.x}px;\n  top: ${props => props.y}px;\n  cursor: pointer;\n  transition: all 0.3s;\n  width: 48px;\n  height: 48px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: ${props => props.type === 'positive' ? `url(${starIcon})` : props.type === 'negative' ? `url(${meteorIcon})` : `url(${starIcon})`};\n  filter: ${props => props.type === 'received' ? 'hue-rotate(90deg)' : 'none'};\n\n  &:hover {\n    transform: scale(1.2);\n    filter: brightness(1.2) ${props => props.type === 'received' ? 'hue-rotate(90deg)' : 'none'};\n  }\n`;\n_c3 = CelestialBodyContainer;\nconst FlowerContainer = styled.div`\n  position: absolute;\n  left: ${props => props.x}px;\n  top: ${props => props.y}px;\n  width: 32px;\n  height: 32px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: ${props => {\n  switch (props.style) {\n    case 'flower1':\n      return `url(${flower1Icon})`;\n    case 'flower2':\n      return `url(${flower2Icon})`;\n    case 'flower3':\n      return `url(${flower3Icon})`;\n    default:\n      return `url(${flower1Icon})`;\n  }\n}};\n`;\n_c4 = FlowerContainer;\nconst Tooltip = styled.div`\n  position: absolute;\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  padding: 8px 12px;\n  border-radius: 4px;\n  font-size: 14px;\n  max-width: 200px;\n  word-wrap: break-word;\n  z-index: 1000;\n  pointer-events: none;\n  transition: opacity 0.3s;\n  opacity: 0;\n  \n  ${CelestialBodyContainer}:hover & {\n    opacity: 1;\n  }\n`;\n_c5 = Tooltip;\nexport const Moon = ({\n  celestialBodies,\n  flowers = []\n}) => {\n  _s();\n  const [hoveredBody, setHoveredBody] = useState(null);\n  const renderCelestialBody = body => {\n    const goldenRatio = 0.618033988749895;\n    const seed = body.id.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\n    const random = (min, max) => {\n      const x = Math.sin(seed * goldenRatio) * 10000;\n      return min + (x - Math.floor(x)) * (max - min);\n    };\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    const centerX = viewportWidth / 2;\n    const centerY = viewportHeight / 2;\n    const moonRadius = 150;\n    let x, y;\n    do {\n      x = random(-centerX + moonRadius, centerX - moonRadius);\n      y = random(-centerY + moonRadius, centerY - moonRadius);\n    } while (Math.sqrt(x * x + y * y) < moonRadius);\n    return /*#__PURE__*/_jsxDEV(CelestialBodyContainer, {\n      x: x,\n      y: y,\n      type: body.type,\n      onMouseEnter: () => setHoveredBody(body),\n      onMouseLeave: () => setHoveredBody(null),\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        children: body.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, body.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(MoonContainer, {\n    children: [/*#__PURE__*/_jsxDEV(MoonSphere, {\n      children: flowers.map(flower => /*#__PURE__*/_jsxDEV(FlowerContainer, {\n        x: flower.position.x,\n        y: flower.position.y,\n        style: flower.style\n      }, flower.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), celestialBodies.map(renderCelestialBody)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n};\n_s(Moon, \"h5XMjmCim2M6BHYMgJuBZfR8WCA=\");\n_c6 = Moon;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"MoonContainer\");\n$RefreshReg$(_c2, \"MoonSphere\");\n$RefreshReg$(_c3, \"CelestialBodyContainer\");\n$RefreshReg$(_c4, \"FlowerContainer\");\n$RefreshReg$(_c5, \"Tooltip\");\n$RefreshReg$(_c6, \"Moon\");","map":{"version":3,"names":["React","useState","styled","keyframes","moonImage","starIcon","meteorIcon","flower1Icon","flower2Icon","flower3Icon","jsxDEV","_jsxDEV","rotate","MoonContainer","div","_c","MoonSphere","_c2","CelestialBodyContainer","props","x","y","type","_c3","FlowerContainer","style","_c4","Tooltip","_c5","Moon","celestialBodies","flowers","_s","hoveredBody","setHoveredBody","renderCelestialBody","body","goldenRatio","seed","id","split","reduce","acc","char","charCodeAt","random","min","max","Math","sin","floor","viewportWidth","window","innerWidth","viewportHeight","innerHeight","centerX","centerY","moonRadius","sqrt","onMouseEnter","onMouseLeave","children","content","fileName","_jsxFileName","lineNumber","columnNumber","map","flower","position","_c6","$RefreshReg$"],"sources":["/Users/zyq/Desktop/大二下/暑期实习/moonshot project/src/components/Moon.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { CelestialBody, Flower, EmotionType } from '../types';\nimport { moonImage, starIcon, meteorIcon, flower1Icon, flower2Icon, flower3Icon } from '../assets';\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nconst MoonContainer = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n  min-width: 100vw;\n`;\n\nconst MoonSphere = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background: url(${moonImage}) no-repeat center center;\n  background-size: cover;\n  animation: ${rotate} 60s linear infinite;\n  position: relative;\n  box-shadow: inset -25px -25px 40px rgba(0,0,0,0.3);\n`;\n\nconst CelestialBodyContainer = styled.div<{ x: number; y: number; type: EmotionType }>`\n  position: absolute;\n  left: ${props => props.x}px;\n  top: ${props => props.y}px;\n  cursor: pointer;\n  transition: all 0.3s;\n  width: 48px;\n  height: 48px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: ${props => \n    props.type === 'positive' \n      ? `url(${starIcon})` \n      : props.type === 'negative' \n        ? `url(${meteorIcon})` \n        : `url(${starIcon})`};\n  filter: ${props => props.type === 'received' ? 'hue-rotate(90deg)' : 'none'};\n\n  &:hover {\n    transform: scale(1.2);\n    filter: brightness(1.2) ${props => props.type === 'received' ? 'hue-rotate(90deg)' : 'none'};\n  }\n`;\n\nconst FlowerContainer = styled.div<{ x: number; y: number; style: string }>`\n  position: absolute;\n  left: ${props => props.x}px;\n  top: ${props => props.y}px;\n  width: 32px;\n  height: 32px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: ${props => {\n    switch (props.style) {\n      case 'flower1':\n        return `url(${flower1Icon})`;\n      case 'flower2':\n        return `url(${flower2Icon})`;\n      case 'flower3':\n        return `url(${flower3Icon})`;\n      default:\n        return `url(${flower1Icon})`;\n    }\n  }};\n`;\n\nconst Tooltip = styled.div`\n  position: absolute;\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  padding: 8px 12px;\n  border-radius: 4px;\n  font-size: 14px;\n  max-width: 200px;\n  word-wrap: break-word;\n  z-index: 1000;\n  pointer-events: none;\n  transition: opacity 0.3s;\n  opacity: 0;\n  \n  ${CelestialBodyContainer}:hover & {\n    opacity: 1;\n  }\n`;\n\ninterface MoonProps {\n  celestialBodies: CelestialBody[];\n  flowers?: Flower[];\n}\n\nexport const Moon: React.FC<MoonProps> = ({ celestialBodies, flowers = [] }) => {\n  const [hoveredBody, setHoveredBody] = useState<CelestialBody | null>(null);\n\n  const renderCelestialBody = (body: CelestialBody) => {\n    const goldenRatio = 0.618033988749895;\n    const seed = body.id.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\n    \n    const random = (min: number, max: number) => {\n      const x = Math.sin(seed * goldenRatio) * 10000;\n      return min + (x - Math.floor(x)) * (max - min);\n    };\n\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    \n    const centerX = viewportWidth / 2;\n    const centerY = viewportHeight / 2;\n    const moonRadius = 150;\n    \n    let x, y;\n    do {\n      x = random(-centerX + moonRadius, centerX - moonRadius);\n      y = random(-centerY + moonRadius, centerY - moonRadius);\n    } while (Math.sqrt(x * x + y * y) < moonRadius);\n\n    return (\n      <CelestialBodyContainer\n        key={body.id}\n        x={x}\n        y={y}\n        type={body.type}\n        onMouseEnter={() => setHoveredBody(body)}\n        onMouseLeave={() => setHoveredBody(null)}\n      >\n        <Tooltip>\n          {body.content}\n        </Tooltip>\n      </CelestialBodyContainer>\n    );\n  };\n\n  return (\n    <MoonContainer>\n      <MoonSphere>\n        {flowers.map(flower => (\n          <FlowerContainer\n            key={flower.id}\n            x={flower.position.x}\n            y={flower.position.y}\n            style={flower.style}\n          />\n        ))}\n      </MoonSphere>\n      {celestialBodies.map(renderCelestialBody)}\n    </MoonContainer>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}